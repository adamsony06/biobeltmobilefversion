{"version":3,"sources":["./node_modules/ng-multiselect-dropdown/fesm2015/ng-multiselect-dropdown.js","./src/app/interventionceinture/interventionceinture.page.html","./src/app/interventionceinture/interventionceinture-routing.module.ts","./src/app/interventionceinture/interventionceinture.module.ts","./src/app/interventionceinture/interventionceinture.page.scss","./src/app/interventionceinture/interventionceinture.page.ts"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAmC;AAC8H;AACjG;AACjB;;AAE/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,wDAAU;AAC3B,IAAI,0DAAI;AACR;AACA;AACA,KAAK;AACL;;AAEA;AACA,aAAa,gEAAiB;AAC9B,iBAAiB,gEAAU;AAC3B;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC;AACpC,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,0DAAY;AAC9C,mCAAmC,0DAAY;AAC/C,4BAA4B,0DAAY;AACxC,8BAA8B,0DAAY;AAC1C,+BAA+B,0DAAY;AAC3C,iCAAiC,0DAAY;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,wDAAU;AACV,IAAI,2DAAK;AACT;AACA,wDAAU;AACV,IAAI,2DAAK;AACT;AACA,wDAAU;AACV,IAAI,2DAAK;AACT;AACA,wDAAU;AACV,IAAI,2DAAK;AACT;AACA,wDAAU;AACV,IAAI,4DAAM;AACV;AACA,wDAAU;AACV,IAAI,4DAAM;AACV;AACA,wDAAU;AACV,IAAI,4DAAM;AACV;AACA,wDAAU;AACV,IAAI,4DAAM;AACV;AACA,wDAAU;AACV,IAAI,4DAAM;AACV;AACA,wDAAU;AACV,IAAI,4DAAM;AACV;AACA,wDAAU;AACV,IAAI,kEAAY;AAChB;AACA,uBAAuB,wDAAU;AACjC,IAAI,+DAAS;AACb;AACA,iTAAiT,cAAc,gFAAgF,mBAAmB,8EAA8E,WAAW,6CAA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","file":"interventionceinture-interventionceinture-module-es2015.js","sourcesContent":["import { __decorate } from 'tslib';\nimport { Pipe, forwardRef, EventEmitter, Input, Output, HostListener, Component, ChangeDetectionStrategy, ElementRef, Directive, NgModule } from '@angular/core';\nimport { NG_VALUE_ACCESSOR, FormsModule } from '@angular/forms';\nimport { CommonModule } from '@angular/common';\n\nclass ListItem {\n    constructor(source) {\n        if (typeof source === 'string' || typeof source === 'number') {\n            this.id = this.text = source;\n            this.isDisabled = false;\n        }\n        if (typeof source === 'object') {\n            this.id = source.id;\n            this.text = source.text;\n            this.isDisabled = source.isDisabled;\n        }\n    }\n}\n\nlet ListFilterPipe = class ListFilterPipe {\n    transform(items, filter) {\n        if (!items || !filter) {\n            return items;\n        }\n        return items.filter((item) => this.applyFilter(item, filter));\n    }\n    applyFilter(item, filter) {\n        if (typeof item.text === 'string' && typeof filter.text === 'string') {\n            return !(filter.text && item.text && item.text.toLowerCase().indexOf(filter.text.toLowerCase()) === -1);\n        }\n        else {\n            return !(filter.text && item.text && item.text.toString().toLowerCase().indexOf(filter.text.toString().toLowerCase()) === -1);\n        }\n    }\n};\nListFilterPipe = __decorate([\n    Pipe({\n        name: 'multiSelectFilter',\n        pure: false\n    })\n], ListFilterPipe);\n\nconst DROPDOWN_CONTROL_VALUE_ACCESSOR = {\n    provide: NG_VALUE_ACCESSOR,\n    useExisting: forwardRef(() => MultiSelectComponent),\n    multi: true\n};\nconst noop = () => { };\nconst ɵ0 = noop;\nlet MultiSelectComponent = class MultiSelectComponent {\n    constructor(listFilterPipe) {\n        this.listFilterPipe = listFilterPipe;\n        this._data = [];\n        this.selectedItems = [];\n        this.isDropdownOpen = true;\n        this._placeholder = \"Select\";\n        this._sourceDataType = null; // to keep note of the source data type. could be array of string/number/object\n        this._sourceDataFields = []; // store source data fields names\n        this.filter = new ListItem(this.data);\n        this.defaultSettings = {\n            singleSelection: false,\n            idField: \"id\",\n            textField: \"text\",\n            disabledField: \"isDisabled\",\n            enableCheckAll: true,\n            selectAllText: \"Select All\",\n            unSelectAllText: \"UnSelect All\",\n            allowSearchFilter: false,\n            limitSelection: -1,\n            clearSearchFilter: true,\n            maxHeight: 197,\n            itemsShowLimit: 999999999999,\n            searchPlaceholderText: \"Search\",\n            noDataAvailablePlaceholderText: \"No data available\",\n            closeDropDownOnSelection: false,\n            showSelectedItemsAtTop: false,\n            defaultOpen: false,\n            allowRemoteDataSearch: false\n        };\n        this.disabled = false;\n        this.onFilterChange = new EventEmitter();\n        this.onDropDownClose = new EventEmitter();\n        this.onSelect = new EventEmitter();\n        this.onDeSelect = new EventEmitter();\n        this.onSelectAll = new EventEmitter();\n        this.onDeSelectAll = new EventEmitter();\n        this.onTouchedCallback = noop;\n        this.onChangeCallback = noop;\n    }\n    set placeholder(value) {\n        if (value) {\n            this._placeholder = value;\n        }\n        else {\n            this._placeholder = \"Select\";\n        }\n    }\n    set settings(value) {\n        if (value) {\n            this._settings = Object.assign(this.defaultSettings, value);\n        }\n        else {\n            this._settings = Object.assign(this.defaultSettings);\n        }\n    }\n    set data(value) {\n        if (!value) {\n            this._data = [];\n        }\n        else {\n            const firstItem = value[0];\n            this._sourceDataType = typeof firstItem;\n            this._sourceDataFields = this.getFields(firstItem);\n            this._data = value.map((item) => typeof item === \"string\" || typeof item === \"number\"\n                ? new ListItem(item)\n                : new ListItem({\n                    id: item[this._settings.idField],\n                    text: item[this._settings.textField],\n                    isDisabled: item[this._settings.disabledField]\n                }));\n        }\n    }\n    onFilterTextChange($event) {\n        this.onFilterChange.emit($event);\n    }\n    onItemClick($event, item) {\n        if (this.disabled || item.isDisabled) {\n            return false;\n        }\n        const found = this.isSelected(item);\n        const allowAdd = this._settings.limitSelection === -1 || (this._settings.limitSelection > 0 && this.selectedItems.length < this._settings.limitSelection);\n        if (!found) {\n            if (allowAdd) {\n                this.addSelected(item);\n            }\n        }\n        else {\n            this.removeSelected(item);\n        }\n        if (this._settings.singleSelection && this._settings.closeDropDownOnSelection) {\n            this.closeDropdown();\n        }\n    }\n    writeValue(value) {\n        if (value !== undefined && value !== null && value.length > 0) {\n            if (this._settings.singleSelection) {\n                try {\n                    if (value.length >= 1) {\n                        const firstItem = value[0];\n                        this.selectedItems = [\n                            typeof firstItem === \"string\" || typeof firstItem === \"number\"\n                                ? new ListItem(firstItem)\n                                : new ListItem({\n                                    id: firstItem[this._settings.idField],\n                                    text: firstItem[this._settings.textField],\n                                    isDisabled: firstItem[this._settings.disabledField]\n                                })\n                        ];\n                    }\n                }\n                catch (e) {\n                    // console.error(e.body.msg);\n                }\n            }\n            else {\n                const _data = value.map((item) => typeof item === \"string\" || typeof item === \"number\"\n                    ? new ListItem(item)\n                    : new ListItem({\n                        id: item[this._settings.idField],\n                        text: item[this._settings.textField],\n                        isDisabled: item[this._settings.disabledField]\n                    }));\n                if (this._settings.limitSelection > 0) {\n                    this.selectedItems = _data.splice(0, this._settings.limitSelection);\n                }\n                else {\n                    this.selectedItems = _data;\n                }\n            }\n        }\n        else {\n            this.selectedItems = [];\n        }\n        this.onChangeCallback(value);\n    }\n    // From ControlValueAccessor interface\n    registerOnChange(fn) {\n        this.onChangeCallback = fn;\n    }\n    // From ControlValueAccessor interface\n    registerOnTouched(fn) {\n        this.onTouchedCallback = fn;\n    }\n    // Set touched on blur\n    onTouched() {\n        this.closeDropdown();\n        this.onTouchedCallback();\n    }\n    trackByFn(index, item) {\n        return item.id;\n    }\n    isSelected(clickedItem) {\n        let found = false;\n        this.selectedItems.forEach(item => {\n            if (clickedItem.id === item.id) {\n                found = true;\n            }\n        });\n        return found;\n    }\n    isLimitSelectionReached() {\n        return this._settings.limitSelection === this.selectedItems.length;\n    }\n    isAllItemsSelected() {\n        // get disabld item count\n        let filteredItems = this.listFilterPipe.transform(this._data, this.filter);\n        const itemDisabledCount = filteredItems.filter(item => item.isDisabled).length;\n        // take disabled items into consideration when checking\n        if ((!this.data || this.data.length === 0) && this._settings.allowRemoteDataSearch) {\n            return false;\n        }\n        return filteredItems.length === this.selectedItems.length + itemDisabledCount;\n    }\n    showButton() {\n        if (!this._settings.singleSelection) {\n            if (this._settings.limitSelection > 0) {\n                return false;\n            }\n            // this._settings.enableCheckAll = this._settings.limitSelection === -1 ? true : false;\n            return true; // !this._settings.singleSelection && this._settings.enableCheckAll && this._data.length > 0;\n        }\n        else {\n            // should be disabled in single selection mode\n            return false;\n        }\n    }\n    itemShowRemaining() {\n        return this.selectedItems.length - this._settings.itemsShowLimit;\n    }\n    addSelected(item) {\n        if (this._settings.singleSelection) {\n            this.selectedItems = [];\n            this.selectedItems.push(item);\n        }\n        else {\n            this.selectedItems.push(item);\n        }\n        this.onChangeCallback(this.emittedValue(this.selectedItems));\n        this.onSelect.emit(this.emittedValue(item));\n    }\n    removeSelected(itemSel) {\n        this.selectedItems.forEach(item => {\n            if (itemSel.id === item.id) {\n                this.selectedItems.splice(this.selectedItems.indexOf(item), 1);\n            }\n        });\n        this.onChangeCallback(this.emittedValue(this.selectedItems));\n        this.onDeSelect.emit(this.emittedValue(itemSel));\n    }\n    emittedValue(val) {\n        const selected = [];\n        if (Array.isArray(val)) {\n            val.map(item => {\n                selected.push(this.objectify(item));\n            });\n        }\n        else {\n            if (val) {\n                return this.objectify(val);\n            }\n        }\n        return selected;\n    }\n    objectify(val) {\n        if (this._sourceDataType === 'object') {\n            const obj = {};\n            obj[this._settings.idField] = val.id;\n            obj[this._settings.textField] = val.text;\n            if (this._sourceDataFields.includes(this._settings.disabledField)) {\n                obj[this._settings.disabledField] = val.isDisabled;\n            }\n            return obj;\n        }\n        if (this._sourceDataType === 'number') {\n            return Number(val.id);\n        }\n        else {\n            return val.text;\n        }\n    }\n    toggleDropdown(evt) {\n        evt.preventDefault();\n        if (this.disabled && this._settings.singleSelection) {\n            return;\n        }\n        this._settings.defaultOpen = !this._settings.defaultOpen;\n        if (!this._settings.defaultOpen) {\n            this.onDropDownClose.emit();\n        }\n    }\n    closeDropdown() {\n        this._settings.defaultOpen = false;\n        // clear search text\n        if (this._settings.clearSearchFilter) {\n            this.filter.text = \"\";\n        }\n        this.onDropDownClose.emit();\n    }\n    toggleSelectAll() {\n        if (this.disabled) {\n            return false;\n        }\n        if (!this.isAllItemsSelected()) {\n            // filter out disabled item first before slicing\n            this.selectedItems = this.listFilterPipe.transform(this._data, this.filter).filter(item => !item.isDisabled).slice();\n            this.onSelectAll.emit(this.emittedValue(this.selectedItems));\n        }\n        else {\n            this.selectedItems = [];\n            this.onDeSelectAll.emit(this.emittedValue(this.selectedItems));\n        }\n        this.onChangeCallback(this.emittedValue(this.selectedItems));\n    }\n    getFields(inputData) {\n        const fields = [];\n        if (typeof inputData !== \"object\") {\n            return fields;\n        }\n        // tslint:disable-next-line:forin\n        for (const prop in inputData) {\n            fields.push(prop);\n        }\n        return fields;\n    }\n};\nMultiSelectComponent.ctorParameters = () => [\n    { type: ListFilterPipe }\n];\n__decorate([\n    Input()\n], MultiSelectComponent.prototype, \"placeholder\", null);\n__decorate([\n    Input()\n], MultiSelectComponent.prototype, \"disabled\", void 0);\n__decorate([\n    Input()\n], MultiSelectComponent.prototype, \"settings\", null);\n__decorate([\n    Input()\n], MultiSelectComponent.prototype, \"data\", null);\n__decorate([\n    Output(\"onFilterChange\")\n], MultiSelectComponent.prototype, \"onFilterChange\", void 0);\n__decorate([\n    Output(\"onDropDownClose\")\n], MultiSelectComponent.prototype, \"onDropDownClose\", void 0);\n__decorate([\n    Output(\"onSelect\")\n], MultiSelectComponent.prototype, \"onSelect\", void 0);\n__decorate([\n    Output(\"onDeSelect\")\n], MultiSelectComponent.prototype, \"onDeSelect\", void 0);\n__decorate([\n    Output(\"onSelectAll\")\n], MultiSelectComponent.prototype, \"onSelectAll\", void 0);\n__decorate([\n    Output(\"onDeSelectAll\")\n], MultiSelectComponent.prototype, \"onDeSelectAll\", void 0);\n__decorate([\n    HostListener(\"blur\")\n], MultiSelectComponent.prototype, \"onTouched\", null);\nMultiSelectComponent = __decorate([\n    Component({\n        selector: \"ng-multiselect-dropdown\",\n        template: \"<div tabindex=\\\"0\\\" (blur)=\\\"onTouched()\\\" class=\\\"multiselect-dropdown\\\" (clickOutside)=\\\"closeDropdown()\\\">\\n  <div [class.disabled]=\\\"disabled\\\">\\n    <span tabindex=\\\"-1\\\" class=\\\"dropdown-btn\\\" (click)=\\\"toggleDropdown($event)\\\">\\n      <span *ngIf=\\\"selectedItems.length == 0\\\">{{_placeholder}}</span>\\n      <span class=\\\"selected-item\\\" *ngFor=\\\"let item of selectedItems;trackBy: trackByFn;let k = index\\\" [hidden]=\\\"k > _settings.itemsShowLimit-1\\\">\\n        <span>{{item.text}}</span>\\n        <a style=\\\"padding-left:2px;color:white\\\" (click)=\\\"onItemClick($event,item)\\\">x</a>\\n      </span>\\n      <span [ngClass]=\\\"{ 'dropdown-multiselect--active': _settings.defaultOpen }\\\" style=\\\"float:right !important;padding-right:4px\\\">\\n        <span style=\\\"padding-right: 15px;\\\" *ngIf=\\\"itemShowRemaining()>0\\\">+{{itemShowRemaining()}}</span>\\n        <span class=\\\"dropdown-multiselect__caret\\\"></span>\\n      </span>\\n    </span>\\n  </div>\\n  <div class=\\\"dropdown-list\\\" [hidden]=\\\"!_settings.defaultOpen\\\">\\n    <ul class=\\\"item1\\\">\\n      <li (click)=\\\"toggleSelectAll()\\\" *ngIf=\\\"(_data.length > 0 || _settings.allowRemoteDataSearch) && !_settings.singleSelection && _settings.enableCheckAll && _settings.limitSelection===-1\\\" class=\\\"multiselect-item-checkbox\\\" style=\\\"border-bottom: 1px solid #ccc;padding:10px\\\">\\n        <input type=\\\"checkbox\\\" aria-label=\\\"multiselect-select-all\\\" [checked]=\\\"isAllItemsSelected()\\\" [disabled]=\\\"disabled || isLimitSelectionReached()\\\" />\\n        <div>{{!isAllItemsSelected() ? _settings.selectAllText : _settings.unSelectAllText}}</div>\\n      </li>\\n      <li class=\\\"filter-textbox\\\" *ngIf=\\\"(_data.length>0 || _settings.allowRemoteDataSearch) && _settings.allowSearchFilter\\\">\\n        <input type=\\\"text\\\" aria-label=\\\"multiselect-search\\\" [readOnly]=\\\"disabled\\\" [placeholder]=\\\"_settings.searchPlaceholderText\\\" [(ngModel)]=\\\"filter.text\\\" (ngModelChange)=\\\"onFilterTextChange($event)\\\">\\n      </li>\\n    </ul>\\n    <ul class=\\\"item2\\\" [style.maxHeight]=\\\"_settings.maxHeight+'px'\\\">\\n      <li *ngFor=\\\"let item of _data | multiSelectFilter:filter; let i = index;\\\" (click)=\\\"onItemClick($event,item)\\\" class=\\\"multiselect-item-checkbox\\\">\\n        <input type=\\\"checkbox\\\" [attr.aria-label]=\\\"item.text\\\" [checked]=\\\"isSelected(item)\\\" [disabled]=\\\"disabled || (isLimitSelectionReached() && !isSelected(item)) || item.isDisabled\\\" />\\n        <div>{{item.text}}</div>\\n      </li>\\n      <li class='no-data' *ngIf=\\\"_data.length == 0 && !_settings.allowRemoteDataSearch\\\">\\n        <h5>{{_settings.noDataAvailablePlaceholderText}}</h5>\\n      </li>\\n    </ul>\\n  </div>\\n</div>\\n\",\n        providers: [DROPDOWN_CONTROL_VALUE_ACCESSOR],\n        changeDetection: ChangeDetectionStrategy.OnPush,\n        styles: [\".multiselect-dropdown{position:relative;width:100%;font-size:inherit;font-family:inherit}.multiselect-dropdown .dropdown-btn{display:inline-block;border:1px solid #adadad;width:100%;padding:6px 12px;margin-bottom:0;font-weight:400;line-height:1.52857143;text-align:left;vertical-align:middle;cursor:pointer;background-image:none;border-radius:4px}.multiselect-dropdown .dropdown-btn .selected-item{border:1px solid #337ab7;margin-right:4px;background:#337ab7;padding:0 5px;color:#fff;border-radius:2px;float:left;display:flex;max-width:100px}.multiselect-dropdown .dropdown-btn .selected-item span{overflow:hidden;text-overflow:ellipsis}.multiselect-dropdown .dropdown-btn .selected-item a{text-decoration:none}.multiselect-dropdown .dropdown-btn .selected-item:hover{box-shadow:1px 1px #959595}.multiselect-dropdown .dropdown-btn .dropdown-multiselect__caret{line-height:16px;display:block;position:absolute;box-sizing:border-box;width:40px;height:38px;right:1px;top:0;padding:4px 8px;margin:0;text-decoration:none;text-align:center;cursor:pointer;transition:transform .2s}.multiselect-dropdown .dropdown-btn .dropdown-multiselect__caret:before{position:relative;right:0;top:65%;color:#999;margin-top:4px;border-style:solid;border-width:8px 8px 0;border-color:#999 transparent;content:\\\"\\\"}.multiselect-dropdown .dropdown-btn .dropdown-multiselect--active .dropdown-multiselect__caret{transform:rotateZ(180deg)}.multiselect-dropdown .disabled>span{background-color:#eceeef}.dropdown-list{position:absolute;padding-top:6px;width:100%;z-index:9999;border:1px solid #ccc;border-radius:3px;background:#fff;margin-top:10px;box-shadow:0 1px 5px #959595}.dropdown-list ul{padding:0;list-style:none;overflow:auto;margin:0}.dropdown-list li{padding:6px 10px;cursor:pointer;text-align:left}.dropdown-list .filter-textbox{border-bottom:1px solid #ccc;position:relative;padding:10px}.dropdown-list .filter-textbox input{border:0;width:100%;padding:0 0 0 26px}.dropdown-list .filter-textbox input:focus{outline:0}.multiselect-item-checkbox:hover{background-color:#e4e3e3}.multiselect-item-checkbox input[type=checkbox]{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}.multiselect-item-checkbox input[type=checkbox]:focus+div:before,.multiselect-item-checkbox input[type=checkbox]:hover+div:before{border-color:#337ab7;background-color:#f2f2f2}.multiselect-item-checkbox input[type=checkbox]:active+div:before{transition-duration:0s}.multiselect-item-checkbox input[type=checkbox]+div{position:relative;padding-left:2em;vertical-align:middle;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;margin:0;color:#000}.multiselect-item-checkbox input[type=checkbox]+div:before{box-sizing:content-box;content:\\\"\\\";color:#337ab7;position:absolute;top:50%;left:0;width:14px;height:14px;margin-top:-9px;border:2px solid #337ab7;text-align:center;transition:.4s}.multiselect-item-checkbox input[type=checkbox]+div:after{box-sizing:content-box;content:\\\"\\\";position:absolute;transform:scale(0);transform-origin:50%;transition:transform .2s ease-out;background-color:transparent;top:50%;left:4px;width:8px;height:3px;margin-top:-4px;border-style:solid;border-color:#fff;border-width:0 0 3px 3px;-o-border-image:none;border-image:none;transform:rotate(-45deg) scale(0)}.multiselect-item-checkbox input[type=checkbox]:disabled+div:before{border-color:#ccc}.multiselect-item-checkbox input[type=checkbox]:disabled:focus+div:before .multiselect-item-checkbox input[type=checkbox]:disabled:hover+div:before{background-color:inherit}.multiselect-item-checkbox input[type=checkbox]:disabled:checked+div:before{background-color:#ccc}.multiselect-item-checkbox input[type=checkbox]:checked+div:after{content:\\\"\\\";transition:transform .2s ease-out;transform:rotate(-45deg) scale(1)}.multiselect-item-checkbox input[type=checkbox]:checked+div:before{-webkit-animation:.2s ease-in borderscale;animation:.2s ease-in borderscale;background:#337ab7}@-webkit-keyframes borderscale{50%{box-shadow:0 0 0 2px #337ab7}}@keyframes borderscale{50%{box-shadow:0 0 0 2px #337ab7}}\"]\n    })\n], MultiSelectComponent);\n\nlet ClickOutsideDirective = class ClickOutsideDirective {\n    constructor(_elementRef) {\n        this._elementRef = _elementRef;\n        this.clickOutside = new EventEmitter();\n    }\n    onClick(event, targetElement) {\n        if (!targetElement) {\n            return;\n        }\n        const clickedInside = this._elementRef.nativeElement.contains(targetElement);\n        if (!clickedInside) {\n            this.clickOutside.emit(event);\n        }\n    }\n};\nClickOutsideDirective.ctorParameters = () => [\n    { type: ElementRef }\n];\n__decorate([\n    Output()\n], ClickOutsideDirective.prototype, \"clickOutside\", void 0);\n__decorate([\n    HostListener('document:click', ['$event', '$event.target'])\n], ClickOutsideDirective.prototype, \"onClick\", null);\nClickOutsideDirective = __decorate([\n    Directive({\n        selector: '[clickOutside]'\n    })\n], ClickOutsideDirective);\n\nvar NgMultiSelectDropDownModule_1;\nlet NgMultiSelectDropDownModule = NgMultiSelectDropDownModule_1 = class NgMultiSelectDropDownModule {\n    static forRoot() {\n        return {\n            ngModule: NgMultiSelectDropDownModule_1\n        };\n    }\n};\nNgMultiSelectDropDownModule = NgMultiSelectDropDownModule_1 = __decorate([\n    NgModule({\n        imports: [CommonModule, FormsModule],\n        declarations: [MultiSelectComponent, ClickOutsideDirective, ListFilterPipe],\n        providers: [ListFilterPipe],\n        exports: [MultiSelectComponent]\n    })\n], NgMultiSelectDropDownModule);\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { MultiSelectComponent, NgMultiSelectDropDownModule, DROPDOWN_CONTROL_VALUE_ACCESSOR as ɵa, ListFilterPipe as ɵb, ClickOutsideDirective as ɵc };\n//# sourceMappingURL=ng-multiselect-dropdown.js.map\n","module.exports = \"<ion-header>\\r\\n  <ion-toolbar color=\\\"primary\\\">    \\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>    \\r\\n  <ion-grid>  \\r\\n    <ion-row style=\\\"display: flex; justify-content: center;\\\">\\r\\n      <ion-col size=\\\"8\\\" text-center style=\\\"padding-top: 5%;\\\">\\r\\n        <h4>Intervention sur une ceinture</h4>\\r\\n      </ion-col>\\r\\n    </ion-row>  \\r\\n    <ion-row>        \\r\\n        <ion-col size=\\\"12\\\">\\r\\n          <fieldset>\\r\\n            <legend>Objet de l'intervention</legend>                 \\r\\n            <ng-multiselect-dropdown *ngIf=\\\"display\\\" name=\\\"obj\\\" placeholder=\\\"Select One\\\" [data]=\\\"motiveOptions\\\" (onSelect)=\\\"onSelectMotive($event)\\\" (onDeSelect)=\\\"onRemoveMotive($event)\\\" [(ngModel)]=\\\"selectedMotive\\\" [disabled]=\\\"disabled\\\" [settings]=\\\"dropdownSettings\\\"></ng-multiselect-dropdown>  \\r\\n            <ul id=\\\"motiveList\\\"></ul>   \\r\\n          </fieldset>\\r\\n          <div *ngIf=\\\"motive.includes('Autre')\\\" id=\\\"other\\\"> <ion-item><ion-label>Autre :</ion-label><ion-input [(ngModel)]='otherObj' placeholder='objet intervention' type='text'></ion-input><ion-button color='tertiary' style='font-size:small' (click)='other();'><span style='text-transform:none!important;'>Valider</span></ion-button></ion-item></div>\\r\\n        </ion-col>        \\r\\n        <ion-col size=\\\"12\\\">\\r\\n          <fieldset>\\r\\n            <legend>Intervenants</legend>            \\r\\n            <ng-multiselect-dropdown *ngIf=\\\"display\\\" name=\\\"intervenant\\\" placeholder=\\\"Select One\\\" [data]=\\\"intervenants\\\" (onSelect)=\\\"onSelectIntervenant($event)\\\" (onDeSelect)=\\\"onRemoveIntervenant($event)\\\" [(ngModel)]=\\\"selectedIntervenants\\\" [disabled]=\\\"disabled\\\" [settings]=\\\"dropdownSettings\\\"></ng-multiselect-dropdown>\\r\\n            <ul id=\\\"intervenantsList\\\"></ul>\\r\\n          </fieldset>\\r\\n        </ion-col>\\r\\n        <ion-col size=\\\"12\\\">\\r\\n          <fieldset>\\r\\n            <legend>Sélection ceinture</legend>\\r\\n              <ng-multiselect-dropdown *ngIf=\\\"display\\\" name=\\\"ceinture\\\" placeholder=\\\"Select One\\\" [data]=\\\"nearUPCList\\\" (onSelect)=\\\"onSelectedCeinture($event)\\\" (onDeSelect)=\\\"onRemoveCeinture($event)\\\" [(ngModel)]=\\\"selectedItems\\\" [disabled]=\\\"disabled\\\" [settings]=\\\"dropdownSettings2\\\"></ng-multiselect-dropdown>\\r\\n          </fieldset>\\r\\n        </ion-col>\\r\\n        <ion-col *ngIf=\\\"displayCommentaire\\\" size=\\\"12\\\">\\r\\n          <fieldset>\\r\\n            <legend>A Faire</legend>\\r\\n            <div>\\r\\n              <ul id=\\\"commentairesList\\\"></ul>\\r\\n            </div>\\r\\n            <!--<p style=\\\"margin-left: 4%; margin-bottom: 4%;\\\">{{commentaire}}</p>-->\\r\\n          </fieldset>\\r\\n        </ion-col>\\r\\n        <ion-col size=\\\"12\\\" *ngIf=\\\"isCeintureSelected\\\" id=\\\"infosCeintureCol\\\">\\r\\n\\r\\n         <fieldset id=\\\"ceintureFieldSet\\\">\\r\\n            <fieldset style=\\\"background-color: #2E7117; color:  white;  margin-left: 4%; margin-right: 4%; margin-top: 4%;\\\">\\r\\n              <p style=\\\"float: left; margin-top: 4%; margin-left: 4%;\\\">{{selectedCeintureName}}</p>\\r\\n              <p style=\\\"float: right; margin-top: 4%; margin-right: 4%;\\\">{{selectedUpcSsid}}</p>\\r\\n            </fieldset> \\r\\n            <div style=\\\"margin-top: 2%;\\\">\\r\\n              <ul id=\\\"upcInfosLabelsList\\\" style=\\\"float: left;\\\">\\r\\n                <li>Mode de diffusion</li>\\r\\n                <li>Nombre de pièges</li>\\r\\n                <li>Mode de connexion</li>\\r\\n                <li>Niveau de connexion</li>\\r\\n                <li>Version FW</li> \\r\\n              </ul>\\r\\n              <ul id=\\\"upcInfosList\\\" style=\\\"float: right; text-align: center;\\\">\\r\\n                <li>{{modeOperation}}</li>\\r\\n                <li>{{nbPieges}}</li>\\r\\n                <li>{{modeConnexion}}</li>\\r\\n                <li>{{niveauConnexion}}</li>\\r\\n                <li>{{versionFw}}</li>\\r\\n              </ul>\\r\\n            </div>            \\r\\n            \\r\\n          </fieldset>\\r\\n          \\r\\n        </ion-col>\\r\\n        <ion-col *ngIf=\\\"needToLoadData\\\" style=\\\"text-align: center; margin-top: 4%;\\\"><ion-spinner></ion-spinner></ion-col>\\r\\n        <ion-col *ngIf=\\\"displayNoDataMessage\\\">\\r\\n          <h6>Les données n'ont pas pu être récupérées. Rechargez la page pour réessayer.</h6>\\r\\n          <ion-row style=\\\"display: flex; justify-content: center;\\\">\\r\\n            <ion-button (click)=\\\"reload()\\\">Réessayer</ion-button>\\r\\n          </ion-row>\\r\\n        </ion-col>\\r\\n\\r\\n      \\r\\n       \\r\\n      \\r\\n    </ion-row>\\r\\n    \\r\\n  </ion-grid>\\r\\n  \\r\\n  \\r\\n \\r\\n</ion-content>\\r\\n<ion-footer style=\\\"display: inline-block\\\">\\r\\n  \\r\\n<ion-button style=\\\"float: right\\\" fill=\\\"clear\\\" (click)=\\\"goNext()\\\">\\r\\n  Continuer\\r\\n  <ion-icon name=\\\"arrow-forward\\\"></ion-icon>\\r\\n</ion-button>\\r\\n\\r\\n</ion-footer>\\r\\n\"","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { InterventionceinturePage } from './interventionceinture.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: InterventionceinturePage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class InterventionceinturePageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { InterventionceinturePageRoutingModule } from './interventionceinture-routing.module';\r\n\r\nimport { InterventionceinturePage } from './interventionceinture.page';\r\nimport { NgMultiSelectDropDownModule } from 'ng-multiselect-dropdown';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    InterventionceinturePageRoutingModule,\r\n    NgMultiSelectDropDownModule.forRoot()\r\n  ],\r\n  declarations: [InterventionceinturePage]\r\n})\r\nexport class InterventionceinturePageModule {}\r\n","module.exports = \"fieldset {\\n  padding-left: 2%;\\n  padding-right: 2%;\\n  border: 1px #2E7117 solid;\\n  border-radius: 1em;\\n}\\n\\nlegend {\\n  width: -webkit-fit-content;\\n  width: -moz-fit-content;\\n  width: fit-content;\\n  font-size: larger;\\n  color: #2E7117;\\n  font-style: italic;\\n  padding-left: 1%;\\n  padding-right: 2%;\\n}\\n\\nul {\\n  list-style: none;\\n  padding-left: 4%;\\n}\\n\\n.item.sc-ion-label-md-h, .item .sc-ion-label-md-h {\\n  white-space: normal !important;\\n}\\n\\n.rowDisplay {\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-orient: horizontal;\\n  -webkit-box-direction: normal;\\n          flex-direction: row;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9oYXJtYW5kL0Rlc2t0b3AvYmlvYmVsdG1vYmlsZS9zcmMvYXBwL2ludGVydmVudGlvbmNlaW50dXJlL2ludGVydmVudGlvbmNlaW50dXJlLnBhZ2Uuc2NzcyIsInNyYy9hcHAvaW50ZXJ2ZW50aW9uY2VpbnR1cmUvaW50ZXJ2ZW50aW9uY2VpbnR1cmUucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksZ0JBQUE7RUFDQSxpQkFBQTtFQUNBLHlCQUFBO0VBQ0Esa0JBQUE7QUNDSjs7QURDRTtFQUNFLDBCQUFBO0VBQUEsdUJBQUE7RUFBQSxrQkFBQTtFQUNBLGlCQUFBO0VBQ0EsY0FBQTtFQUNBLGtCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxpQkFBQTtBQ0VKOztBRENFO0VBQ0UsZ0JBQUE7RUFDQSxnQkFBQTtBQ0VKOztBREFFO0VBQ0UsOEJBQUE7QUNHSjs7QURBQTtFQUNFLG9CQUFBO0VBQUEsYUFBQTtFQUNBLDhCQUFBO0VBQUEsNkJBQUE7VUFBQSxtQkFBQTtBQ0dGIiwiZmlsZSI6InNyYy9hcHAvaW50ZXJ2ZW50aW9uY2VpbnR1cmUvaW50ZXJ2ZW50aW9uY2VpbnR1cmUucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiZmllbGRzZXQge1xyXG4gICAgcGFkZGluZy1sZWZ0OiAyJTtcclxuICAgIHBhZGRpbmctcmlnaHQ6IDIlOyBcclxuICAgIGJvcmRlcjogMXB4ICMyRTcxMTcgc29saWQ7XHJcbiAgICBib3JkZXItcmFkaXVzOiAxZW07XHJcbiAgfVxyXG4gIGxlZ2VuZCB7ICBcclxuICAgIHdpZHRoOmZpdC1jb250ZW50OyBcclxuICAgIGZvbnQtc2l6ZTpsYXJnZXI7XHJcbiAgICBjb2xvcjogIzJFNzExNztcclxuICAgIGZvbnQtc3R5bGU6IGl0YWxpYztcclxuICAgIHBhZGRpbmctbGVmdDogMSU7XHJcbiAgICBwYWRkaW5nLXJpZ2h0OiAyJTtcclxuICB9XHJcbiAgXHJcbiAgdWwge1xyXG4gICAgbGlzdC1zdHlsZTpub25lO1xyXG4gICAgcGFkZGluZy1sZWZ0OiA0JTtcclxuICB9XHJcbiAgLml0ZW0uc2MtaW9uLWxhYmVsLW1kLWgsIC5pdGVtIC5zYy1pb24tbGFiZWwtbWQtaHtcclxuICAgIHdoaXRlLXNwYWNlOiBub3JtYWwgIWltcG9ydGFudDtcclxufVxyXG4gIFxyXG4ucm93RGlzcGxheSB7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBmbGV4LWRpcmVjdGlvbjogcm93O1xyXG59IiwiZmllbGRzZXQge1xuICBwYWRkaW5nLWxlZnQ6IDIlO1xuICBwYWRkaW5nLXJpZ2h0OiAyJTtcbiAgYm9yZGVyOiAxcHggIzJFNzExNyBzb2xpZDtcbiAgYm9yZGVyLXJhZGl1czogMWVtO1xufVxuXG5sZWdlbmQge1xuICB3aWR0aDogZml0LWNvbnRlbnQ7XG4gIGZvbnQtc2l6ZTogbGFyZ2VyO1xuICBjb2xvcjogIzJFNzExNztcbiAgZm9udC1zdHlsZTogaXRhbGljO1xuICBwYWRkaW5nLWxlZnQ6IDElO1xuICBwYWRkaW5nLXJpZ2h0OiAyJTtcbn1cblxudWwge1xuICBsaXN0LXN0eWxlOiBub25lO1xuICBwYWRkaW5nLWxlZnQ6IDQlO1xufVxuXG4uaXRlbS5zYy1pb24tbGFiZWwtbWQtaCwgLml0ZW0gLnNjLWlvbi1sYWJlbC1tZC1oIHtcbiAgd2hpdGUtc3BhY2U6IG5vcm1hbCAhaW1wb3J0YW50O1xufVxuXG4ucm93RGlzcGxheSB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiByb3c7XG59Il19 */\"","import { Component, OnInit, NgZone,  ViewEncapsulation, ChangeDetectorRef } from '@angular/core';\r\nimport { Upcv3serviceService } from '../api/upcv3service.service';\r\nimport {GlobalService} from '../api/global.service';\r\nimport { Storage } from '@ionic/storage';\r\nimport { Router } from '@angular/router';\r\nimport { Geolocation } from '@ionic-native/geolocation/ngx';\r\nimport { UPCV3 } from '../model/upcv3/upcv3';\r\nimport * as $ from 'jquery';\r\nimport { Events, LoadingController, Platform } from '@ionic/angular';\r\nimport { UPCModbus } from '../model/upcv3/upcmodbus';\r\nimport { Hotspot, HotspotNetwork } from '@ionic-native/hotspot/ngx';\r\nimport { NgMultiSelectDropDownModule} from 'ng-multiselect-dropdown';\r\nimport { Network} from '@ionic-native/network/ngx';\r\nimport { ThrowStmt } from '@angular/compiler';\r\nimport { AlertController} from '@ionic/angular';\r\nimport { IDropdownSettings } from 'ng-multiselect-dropdown';\r\nimport { User } from '../model/user';\r\nimport { Diagnostic } from '@ionic-native/diagnostic/ngx';\r\nimport { THIS_EXPR } from '@angular/compiler/src/output/output_ast';\r\n\r\n\r\ndeclare var WifiWizard2: any;\r\n\r\n\r\n@Component({\r\n  selector: 'app-interventionceinture',\r\n  templateUrl: './interventionceinture.page.html',\r\n  styleUrls: ['./interventionceinture.page.scss'],\r\n  encapsulation: ViewEncapsulation.None\r\n})\r\nexport class InterventionceinturePage implements OnInit {\r\n  //tenter un accès modbus et s'il ne réussit pas alert connectez vous à l'upc\r\n  //accès modbus s'il se connecte \r\n\r\n  \r\n\r\n  /* Variables liées à la séquence d'écrans */\r\n  sequenceOfScreensOptions = {\r\n    installation : [\r\n      \"Initialisation / Echange boitier UPC\",\r\n      \"Etat de la connexion au réseau\",\r\n      \"Changement de bouteilles sur ceinture\",\r\n      \"Réglage des détendeurs\",\r\n      \"Controle débits Mini/Maxi\",\r\n      \"Vérification débits pièges individuels\",\r\n      \"Programmation diffusion CO2\",\r\n      \"Mesures pressions de sortie\"\r\n    ],\r\n    remiseEnRoute : [\r\n      \"Etat de la connexion au réseau\",\r\n      \"Changement de bouteilles sur ceinture\",\r\n      \"Réglage des détendeurs\",\r\n      \"Controle débits Mini/Maxi\",\r\n      \"Vérification débits pièges individuels\",\r\n      \"Programmation diffusion CO2\",\r\n      \"Mesures pressions de sortie\"\r\n    ],   \r\n    modificationNbPieges : [\r\n      \"Modification du nombre de pièges\",\r\n      \"Réglage des détendeurs\",\r\n      \"Controle débits Mini/Maxi\",\r\n      \"Mesures pressions de sortie\"\r\n    ],\r\n    maintenance : [\r\n      \"Etat de la connexion au réseau\",\r\n      \"Controle débits Mini/Maxi\"      \r\n    ],\r\n    changementBouteillesCo2 : [\r\n      \"Réglage des détendeurs\",\r\n      \"Controle débits Mini/Maxi\"      \r\n    ],\r\n    changementUpc : [\r\n      \"Initialisation/Echange boitier UPC\",\r\n      \"Etat de la connexion au réseau\"      \r\n    ]\r\n  };\r\n\r\n  sequenceOfScreens = [];\r\n  sequenceOfScreensTmp = [];\r\n\r\n\r\n  /* Variables liées à l'objet de l'intervention */\r\n  motiveOptions = [\"Installation\",\"Modification du nombre de pièges\",\"Remise en route\",\"Maintenance\",\"Changements de bouteilles CO2\",\"Changement d'UPC\", \"Hivernage\", \"Autre\"];\r\n  motive = []; //format pour la base de données\r\n  selectedMotive = []; //format pour la liste\r\n  otherObj;\r\n\r\n\r\n  /* Variables liées aux intervenants */\r\n  intervenants = []; //liste de tous les intervenants  \r\n  intervenantsChoisis = []; //format pour la base de données\r\n  selectedIntervenants = []; //format pour la liste\r\n\r\n\r\n  /* Variables liées aux ceintures */ \r\n  nearUPC=[];\r\n  nearUPCToSort=[];\r\n  nearUPCNotSorted=[];\r\n  nearUPCNames=[];\r\n  nearUPCList=[];  \r\n  ceintureChoisieObject;\r\n  ceintureChoisieBottles=[];\r\n  ceintureChoisieBottlesTypes=[];\r\n  ceintureChoisieCommentaires = [];  \r\n  selectedUpcSsid;\r\n  selectedUpcPass;\r\n  selectedCeintureName;  \r\n  connectedUpcName =\"\";\r\n  connectedUpcSsid =\"\";\r\n  isCeintureSelected = false;\r\n  data=[];\r\n  useGeolocation = true;\r\n  lat;\r\n  long;\r\n  geolocationErrorFunction;\r\n\r\n\r\n  /* Variables liées aux bouteilles */\r\n  bottles; \r\n  bottlesInTransit=[];  \r\n \r\n\r\n  /* Variables d'affichage*/  \r\n  display=false;\r\n  displayCommentaire = false;\r\n  disabled=false;\r\n  ShowFilter = false;\r\n  limitSelection = false;\r\n  dropdownSettings = { // Liste objets + Liste intervenants\r\n    singleSelection: false,\r\n    idField: 'item_id',\r\n    textField: 'item_text',\r\n    selectAllText: 'Select All',\r\n    unSelectAllText: 'UnSelect All',      \r\n    allowSearchFilter: true\r\n  };\r\n  \r\n  dropdownSettings2 = { // Liste ceintures \r\n    singleSelection: true,\r\n    idField: 'item_id',\r\n    textField: 'item_text',         \r\n    allowSearchFilter: true\r\n  };\r\n  needToLoadData; // Affichage symbole chargement données \r\n\r\n\r\n  /* Variables liées aux commentaires */ \r\n  commentaire;\r\n\r\n\r\n  /* Variables liées à la récupération des données / login */\r\n  token;\r\n  \r\n \r\n\r\n  \r\n\r\n  \r\n   \r\n  \r\n  \r\n \r\n  \r\n  \r\n  isUpcConnected = false;\r\n  \r\n \r\n\r\n  \r\n  \r\n  dt= new Date(Date.now());\r\n  dateString;\r\n  upc: UPCModbus;\t\r\n  \r\n \r\n  selectedItems = [];\r\n  dropdownList = [];\r\n  connectedOperator;\r\n  \r\n  \r\n  poursuivre = false;\r\n  globals = [];\r\n  selectedUpcSsidTmp: string;\r\n  selectedUpcPassTmp: string;\r\n \r\n  success;\r\n  ceintureChoisieObjectTmp: any;\r\n  username = \"\";\r\n  password = \"\";\r\n  item: any;\r\n  errorFunction: string;  \r\n  displayNoDataMessage: boolean;\r\n  ceintureId: any;\r\n  function: string;\r\n  mode: string;\r\n  nbPieges;\r\n  modeConnexion: string;\r\n  niveauConnexion: any;\r\n  versionFw: any;\r\n  modeOperation;\r\n  ssid;\r\n\r\n \r\n\r\n  constructor(\r\n    private upcv3service : Upcv3serviceService,\r\n    private storage : Storage,\r\n    private router : Router,\r\n    private global:GlobalService,\r\n    private geolocation: Geolocation,\r\n    private platform : Platform,\r\n    private loadingCTRL: LoadingController,\r\n    private hotspot : Hotspot,\r\n    private ngZone : NgZone,\r\n    private network : Network,\r\n    private cd : ChangeDetectorRef,\r\n    private alertController : AlertController,\r\n    private diagnostic: Diagnostic,\r\n    private events : Events    \r\n  ) {     \r\n    this.global.checkMode()    \r\n  }\r\n\r\n  ngOnInit() {  \r\n    this.global.connexionRequise=\"Aucune\"\r\n      this.storage.get(\"token\").then((res)=>{\r\n        this.token = res;     \r\n        this.storage.get(\"dataAlreadyLoaded\").then(res=>{             \r\n          if(res != true){        \r\n            this.needToLoadData = true; \r\n            this.function = \"getDataFromServer\"\r\n            this.getDataFromServer()                  \r\n          } \r\n          else{\r\n            this.getDataFromStorage()          \r\n          }\r\n        })                \r\n      })\r\n   \r\n\r\n    \r\n    /*Formattage de la date pour la création de l'intervention*/\r\n   \r\n    var dtstring = this.dt.getFullYear()\r\n    + '-' + this.pad2(this.dt.getMonth()+1)\r\n    + '-' + this.pad2(this.dt.getDate())\r\n    + 'T' + this.pad2(this.dt.getHours())\r\n    + ':' + this.pad2(this.dt.getMinutes())\r\n    + ':' + this.pad2(this.dt.getSeconds());\r\n    this.dateString = dtstring;\r\n\r\n    this.storage.set(\"debutIntervention\",this.dateString) \r\n     \r\n  }\r\n  \r\n\r\n  getDataFromStorage(){    \r\n    this.storage.get(\"intervenantsList\").then(res=>{\r\n      this.intervenants = res;\r\n      this.storage.get(\"nearUpcList\").then(res=>{\r\n        this.nearUPCList = res;\r\n        this.storage.get(\"bottlesInTransit\").then(res=>{ \r\n          this.bottlesInTransit = res;\r\n          this.setInterventionVariables(); \r\n        })             \r\n      })\r\n    })\r\n    \r\n  }\r\n\r\n\r\n  getDataFromServer(){\r\n    this.global.connexionRequise=\"Serveur\";\r\n      this.upcv3service.getConnected(this.token).subscribe(res=>{ //Opérateur connecté \r\n        this.global.statutConnexion=\"Serveur\"\r\n           \r\n          this.connectedOperator = res.result.lastName + \" \" + res.result.firstName;\r\n          this.storage.set(\"connectedOperator\",this.connectedOperator)\r\n          this.upcv3service.getOperators(this.token).subscribe(res => { //Liste des intervenants \r\n            this.global.statutConnexion=\"Serveur\"                          \r\n              var data = res.result   \r\n              for (var i = 0; i < data.length; i++){\r\n                this.intervenants.push(data[i][\"lastName\"]+\" \"+ data[i][\"firstName\"]);\r\n              }\r\n              this.storage.set(\"intervenantsList\",this.intervenants)          \r\n              this.getNearUpcList()  \r\n              \r\n          },(err) => {          \r\n            this.global.onConnect(err).then(res => { \r\n          \r\n              if(res == \"retry\"){\r\n                this.getDataFromServer()\r\n              }\r\n              else{\r\n                this.needToLoadData = false;\r\n                this.displayNoDataMessage = true;\r\n              } \r\n              \r\n            })\r\n          })         \r\n      }, err => {\r\n        this.global.onConnect(err).then(res => { \r\n          \r\n          if(res == \"retry\"){\r\n            this.getDataFromServer()\r\n          } \r\n          else{\r\n            this.needToLoadData = false;\r\n            this.displayNoDataMessage = true;\r\n          }\r\n          \r\n        })\r\n      }) \r\n        \r\n  }\r\n  \r\n\r\n  login(){\r\n    this.storage.get(\"user\").then(res =>{     \r\n      this.username = res;\r\n      this.storage.get(\"pass\").then(res=>{\r\n        this.password = res;\r\n        var user = new User();\r\n        user.username = this.username;\r\n        user.password = this.password;     \r\n        this.upcv3service.login(user).subscribe(async res=>{\r\n          this.storage.set(\"token\",res.result).then(()=>{\r\n            switch(this.errorFunction){\r\n              case \"connectedOperator\":\r\n                this.getDataFromServer()\r\n                break;\r\n              case \"operators\":\r\n                this.getDataFromServer()\r\n                break;\r\n              case \"upcs\":\r\n                this.getNearUpcList()\r\n                break;\r\n              case \"bottlesInTransit\":\r\n                this.getBottlesInTransitList()\r\n                break;\r\n              case \"commentaires\":\r\n                this.getCommentaires(this.item)\r\n                break;\r\n              case \"sites\":\r\n                this.getBottlesInfos()\r\n                break;\r\n              case 'siteBottles':\r\n                this.getBottlesInfos()\r\n                break;          \r\n            }\r\n          })          \r\n        }, err => {\r\n         this.global.onConnect(err)\r\n        })\r\n      })\r\n    })    \r\n  }\r\n\r\n  async getMotiveItems(){\r\n    var res = await this.storage.get(\"motiveItems\") //format pour la liste\r\n    return res\r\n  }\r\n\r\n  async getMotiveString(){\r\n    var res = await this.storage.get(\"motiveString\") //format pour la base de données\r\n    return res\r\n  }\r\n\r\n  async getIntervenantsItems(){\r\n    var res = await this.storage.get(\"intervenantsItems\")\r\n    return res\r\n  }\r\n\r\n  async getIntervenantsString(){\r\n    var res = await this.storage.get(\"intervenantsString\")\r\n    return res\r\n  }\r\n  \r\n  \r\n  async getCeintureChoisieObject(){\r\n    var res = await this.storage.get(\"ceintureChoisieObject\")\r\n    return res\r\n  }\r\n  \r\n  async getUpcSsid(){\r\n    var res = await this.storage.get(\"ssid\")\r\n    return res\r\n  } \r\n\r\n  async getUpcPass(){\r\n    var res = await this.storage.get(\"password\")\r\n    return res\r\n  }\r\n\r\n  async getUpcName(){\r\n    var res = await this.storage.get(\"upcname\")\r\n    return res\r\n  }\r\n\r\n  async getStockBottleTypes(){\r\n    var res =  await this.storage.get(\"stockBottleTypes\")\r\n    return res\r\n  }\r\n\r\n  async getCeintureChoisieBottles(){\r\n    var res = await this.storage.get(\"ceintureChoisieBottles\")\r\n    return res\r\n  }\r\n\r\n  async getCeintureChoisieCommentaires(){\r\n    var res = await this.storage.get(\"ceintureChoisieCommentaires\")\r\n    return res\r\n  }\r\n\r\n  async setInterventionVariables(){\r\n    var arr = await Promise.all([       \r\n      this.getMotiveItems(), \r\n      this.getMotiveString(),\r\n      this.getIntervenantsItems(),\r\n      this.getIntervenantsString(), \r\n      this.getCeintureChoisieObject(),\r\n      this.getUpcSsid(),\r\n      this.getUpcPass(), \r\n      this.getUpcName(),\r\n      this.getStockBottleTypes(), \r\n      this.getCeintureChoisieBottles(),  \r\n      this.getCeintureChoisieCommentaires()    \r\n    ]) \r\n\r\n    console.log(arr)\r\n   \r\n\r\n    if(arr[0] == undefined || arr[0] == null){//motif format liste\r\n      this.storage.set(\"motiveItems\",\"\")         \r\n    }\r\n    else{\r\n      if(arr[0]!= \"\"){      \r\n        this.selectedMotive = arr[0]\r\n      }\r\n    }\r\n    \r\n    if(arr[1] == undefined || arr[1] == null){//motif format bdd                                                 \r\n      this.storage.set(\"motiveString\",\"\")          \r\n    }\r\n    else{\r\n      if(arr[1]!= \"\"){   \r\n        this.motive = arr[1] \r\n      }\r\n    }\r\n\r\n    if(this.motive.includes(\"Autre\")){     \r\n      if(this.storage.get(\"autre\") != undefined && this.storage.get(\"autre\") != null){\r\n        this.motive[this.motive.indexOf(\"Autre\")]=this.storage.get(\"autre\")\r\n      }\r\n    } \r\n\r\n    if(arr[2] == undefined || arr[2] == null){//intervenants choisis format liste\r\n      this.storage.set(\"intervenantsItems\", \"\")\r\n    }\r\n    else{\r\n      if(arr[2]!= \"\"){   \r\n        this.selectedIntervenants = arr[2]\r\n      }\r\n    }\r\n\r\n    if(arr[3] == undefined || arr[3] == null){//intervenants choisis format bdd\r\n      this.storage.set(\"intervenantsString\", \"\")\r\n    }\r\n    else{\r\n      if(arr[3]!= \"\"){   \r\n        this.intervenantsChoisis = arr[3] \r\n      }\r\n    }   \r\n\r\n    if(arr[4] == undefined || arr[4] == null){//ceinture choisie \r\n      this.storage.set(\"ceintureChoisieObject\",\"\")\r\n      this.ceintureChoisieObject = \"\"\r\n      this.selectedCeintureName = \"\"\r\n    }\r\n    else{\r\n      if(arr[4]!= \"\"){      \r\n        this.ceintureChoisieObject = JSON.parse(arr[4]) \r\n        this.selectedCeintureName = this.ceintureChoisieObject.upcNameId    \r\n      }  \r\n      else{\r\n        this.ceintureChoisieObject = \"\"\r\n        this.selectedCeintureName = \"\"\r\n      }\r\n    }\r\n\r\n    if(arr[5] == undefined || arr[5] == null){//ceinture choisie ssid \r\n      this.storage.set(\"ssid\",\"\")\r\n      this.selectedUpcSsid = \"\"\r\n    } \r\n    else{\r\n      this.selectedUpcSsid = arr[5]\r\n    }\r\n\r\n    if(arr[6] == undefined || arr[6] == null){//ceinture choisie password   \r\n      this.storage.set(\"password\",\"\")\r\n      this.selectedUpcPass = \"\"\r\n    }\r\n    else{\r\n      this.selectedUpcPass = arr[6]\r\n    } \r\n    \r\n    if(arr[7] == undefined || arr[7] == null){//nom de l'upc\r\n      this.storage.set(\"upcname\",\"\")\r\n    }   \r\n\r\n    if(arr[8] == undefined || arr[8] == null){//types des bouteilles de l'entrepôt associé à la ceinture\r\n      this.storage.set(\"stockBottleTypes\",\"\")    \r\n    }\r\n    else{\r\n      if(arr[8] != \"\"){\r\n        this.ceintureChoisieBottlesTypes = arr[8] \r\n      }\r\n    }\r\n\r\n    \r\n    if(arr[9] == undefined || arr[9] == null){//bouteilles de l'entrepôt associé à la ceinture \r\n      this.storage.set(\"ceintureChoisieBottles\",\"\")    \r\n    }\r\n    else{\r\n      if(arr[9] != \"\"){\r\n        this.ceintureChoisieBottles = arr[9] \r\n      }\r\n    }\r\n\r\n    if(arr[10] == undefined || arr[10] == null){//commentaires associé à la ceinture\r\n      this.storage.set(\"commentaires\",\"\")\r\n    }\r\n    else{\r\n      if(arr[10] != \"\"\r\n      ){\r\n        this.ceintureChoisieCommentaires = arr[10]   \r\n      }      \r\n    }\r\n    \r\n    this.preselectCeinture()\r\n    if(this.ceintureChoisieObject != \"\"){\r\n      var d=new Date()    \r\n      this.global.logs.push(this.global.msToTime(d.getTime())+\" --- Présélection ceinture ---\")\r\n      this.connectToUpc()\r\n    }\r\n    \r\n  }\r\n\r\n \r\n\r\n  preselectCeinture(){   \r\n    if(this.ceintureChoisieObject != \"\"){ //si ceinture sauvegardée         \r\n      this.storage.get(\"commentaires\").then(res => {\r\n        if(res != \"\")\r\n        {          \r\n          this.commentaire = res;\r\n          this.displayCommentaire = true;\r\n        }\r\n        this.nearUPCList.forEach(element =>{ //compare les id pour présélectionner la ceinture                 \r\n          if(this.ceintureChoisieObject.id == element.item_id.id){\r\n            this.selectedItems = [element];\r\n            this.isCeintureSelected = true                                                                                                  \r\n          }\r\n        }) \r\n      })\r\n    }\r\n    else{\r\n      this.selectedItems = [];\r\n    }\r\n    this.display = true   \r\n    this.needToLoadData = false;   \r\n    this.storage.set(\"dataAlreadyLoaded\",true)\r\n    \r\n  }  \r\n\r\n\r\n  /*fonction formattage date*/\r\n\r\n  pad2(number) { \r\n    return (number < 10 ? '0' : '') + number\r\n  } \r\n\r\n  getCommentaires(item){\r\n    this.item = item;\r\n    if(item != undefined && item != null){\r\n      this.upcv3service.getActionNotDoneById(this.token,item.item_id.id).subscribe(res=>{         \r\n        if(res.result[0] != undefined){\r\n          if (res.result[0].mess != null){\r\n            this.displayCommentaire = true;   \r\n            this.commentaire = res     \r\n            this.storage.set(\"commentaires\",res)            \r\n          }\r\n        }\r\n        this.getBottlesInfos()\r\n      }, async err => {          \r\n          \r\n          this.global.onConnect(err).then(res => { \r\n          \r\n          if(res == \"retry\"){\r\n            this.getCommentaires(item)\r\n          } \r\n          else{\r\n            this.needToLoadData = false;\r\n            this.displayNoDataMessage = true;\r\n          }        \r\n        }) \r\n      })\r\n  }else{\r\n      this.getBottlesInfos()\r\n    }\r\n  }\r\n\r\n\r\n  getBottlesInfos(){\r\n\r\n    /*Récupération des informations sur les bouteilles dans la base de données*/\r\n\r\n    if(this.ceintureChoisieObject != undefined && this.ceintureChoisieObject != null && this.ceintureChoisieObject != \"\"){\r\n      this.upcv3service.getSitesByUpcID(this.ceintureChoisieObject.id,this.token).subscribe(res => {         \r\n        if(res.result.stock != null){ //entrepôt associé à la ceinture           \r\n          this.ceintureChoisieBottlesTypes = res.result.stock.bottleTypes; //liste des types de bouteilles de l'entreôt associé à la ceinture\r\n          this.storage.set(\"stockBottleTypes\", this.ceintureChoisieBottlesTypes);\r\n          this.upcv3service.getBottlesByStockId(res.result.stock.id, this.token).subscribe(res => {\r\n            res.result.forEach(element => {\r\n              this.ceintureChoisieBottles.push(element) //liste des bouteilles de l'entrepôt associé à la ceinture\r\n            })\r\n            this.storage.set(\"ceintureChoisieBottles\", this.ceintureChoisieBottles);            \r\n            this.connectToUpc()                     \r\n          }, err => { \r\n            this.global.onConnect(err)\r\n          }) \r\n        }\r\n        else{        \r\n          this.connectToUpc()\r\n        }       \r\n      }, err => {\r\n        this.global.onConnect(err).then(res => { \r\n          \r\n          if(res == \"retry\"){\r\n            this.getBottlesInfos()\r\n          } \r\n          else{\r\n            this.needToLoadData = false;\r\n            this.displayNoDataMessage = true;\r\n          }        \r\n        })  \r\n      })\r\n    }\r\n  }\r\n\r\n\r\n  /*Récupération de la liste des opérateurs dans la base de données*/\r\n\r\n  \r\n\r\n  /*Liste des ceintures*/ \r\n\r\n  getNearUpcList(){   \r\n\r\n    this.upcv3service.getUPC3(this.token).subscribe(res =>{  \r\n      this.storage.set(\"statutConnexion\",\"Serveur\").then(()=>{      \r\n        var data = res.result //liste de toutes les ceintures   \r\n        this.data = data;     \r\n        this.checkLocationEnabled(data)    \r\n      })      \r\n    }, err => {\r\n      this.global.onConnect(err).then(res => { \r\n          \r\n        if(res == \"retry\"){\r\n          this.getDataFromServer()\r\n        }\r\n        else{\r\n          this.needToLoadData = false;\r\n          this.displayNoDataMessage = true;\r\n        } \r\n        \r\n      })\r\n    })    \r\n  }\r\n\r\n  checkLocationEnabled(data){\r\n    this.diagnostic.isLocationEnabled().then(res=>{\r\n      if(res == true){\r\n        this.successGeolocation(data);\r\n      }\r\n      else{\r\n        this.geolocationErrorFunction = \"check\"\r\n        alert(\"La page a besoin de la position de l'appareil. Activez la géolocalisation puis appuyez sur 'OK'.\")\r\n        this.checkLocationEnabled(this.data)\r\n      }\r\n    }).catch(error => {      \r\n      this.successGeolocation(data)\r\n    }) \r\n  }\r\n\r\n  successGeolocation(data){\r\n    this.geolocation.getCurrentPosition().then(res=>{      \r\n      this.lat = res.coords.latitude;\r\n      this.long = res.coords.longitude;      \r\n      this.makeUpcList()      \r\n    }).catch(err => {     \r\n      this.geolocationAlert();\r\n    });\r\n  \r\n  }\r\n\r\n  makeUpcList(){\r\n    this.data.forEach(element=>{          \r\n      this.nearUPCNotSorted.push(element); //Liste des ceintures qu'on gardera volontairement non triée             \r\n      this.nearUPCToSort.push(element); //Liste des ceintures qu'on va trier \r\n    })\r\n\r\n    if(this.useGeolocation == true){\r\n      this.nearUPCToSort.sort((a,b)=>{ //Tri croissant des ceintures en fonction de la distance où elles se trouvent par rapport à la position du téléphone\r\n        return this.getDistanceFromLatLonInKm(this.lat,this.long,a.lat,a.lng)-this.getDistanceFromLatLonInKm(this.lat,this.long,b.lat,b.lng);\r\n      })\r\n      \r\n      //crée la liste avec les 10 ceintures les plus proches\r\n      for (var i=0; i<10; i++){\r\n        this.nearUPC.push(this.nearUPCToSort[i])\r\n        this.nearUPCNames.push(this.nearUPC[i].upcNameId);\r\n      }\r\n    }        \r\n    //ajoute toutes les ceintures sans ordre de distance \r\n    this.nearUPCNotSorted.forEach(element=>{\r\n      this.nearUPC.push(element);\r\n      this.nearUPCNames.push(element.upcNameId);            \r\n    })              \r\n         \r\n    this.nearUPC.forEach(element => { //crée une liste d'items ceinture {item_id:{json de la ceinture},item_text:\"nom de la ceinture\"}                  \r\n      this.nearUPCList.push({item_id: element, item_text: element.upcNameId });\r\n    }) \r\n    this.storage.set(\"nearUpcList\", this.nearUPCList);               \r\n    this.getBottlesInTransitList()\r\n  }\r\n\r\n  getBottlesInTransitList(){\r\n\r\n    this.upcv3service.getAllBottle(this.token).subscribe(res => { //liste de toutes les bouteilles\r\n      this.storage.set(\"statutConnexion\",\"Serveur\").then(()=>{      \r\n        this.bottles = res;       \r\n        this.bottles.result.forEach(element => {           \r\n          if(element.localisationType == \"TRANSIT\"){\r\n            this.bottlesInTransit.push(element) //liste des bouteilles en transit\r\n          }        \r\n        }); \r\n        this.storage.set(\"bottlesInTransitList\", this.bottlesInTransit); \r\n        this.setInterventionVariables(); \r\n      })  \r\n    }, err => {\r\n      this.global.onConnect(err)\r\n    })   \r\n  } \r\n\r\n\r\n\r\n  /* --- fonctions liées à l'objet de l'intervention --- */\r\n\r\n  other(){ //choix d'un objet \"autre\" qui n'est pas dans la liste\r\n    this.display=false;   \r\n    this.motive[this.motive.indexOf(\"Autre\")]=this.otherObj;\r\n    this.storage.set(\"autre\", this.otherObj)\r\n    setTimeout(()=>{     \r\n      this.display=true; \r\n    },20)           \r\n  }\r\n\r\n\r\n  onSelectMotive(item: any){     \r\n   console.log(JSON.stringify(item))\r\n    if(!this.motive.includes(item)){\r\n      this.motive.push(item)\r\n    }  \r\n    alert(this.motive)\r\n       \r\n    \r\n    this.storage.set(\"motiveItems\",this.selectedMotive) //format pour la liste\r\n    this.storage.set(\"motiveString\", this.motive) //format pour la base de données    \r\n  }\r\n\r\n  onRemoveMotive(item : any){    \r\n    this.motive = this.motive.filter(function(element) {\r\n      return element !== item\r\n    })\r\n    alert(this.motive)\r\n    this.storage.set(\"motiveItems\",this.selectedMotive) //format pour la liste\r\n    this.storage.set(\"motiveString\", this.motive) //format pour la base de données   \r\n  }\r\n\r\n  /* --- fonctions liées aux intervenants --- */\r\n\r\n  onSelectIntervenant(item: any){     \r\n    console.log(JSON.stringify(item))\r\n     if(!this.intervenantsChoisis.includes(item)){\r\n       this.intervenantsChoisis.push(item)\r\n     }  \r\n     alert(this.intervenantsChoisis)\r\n     this.storage.set(\"intervenantsItems\", this.selectedIntervenants)  \r\n     this.storage.set(\"intervenantsString\", this.intervenantsChoisis)    \r\n   }\r\n \r\n   onRemoveIntervenant(item : any){    \r\n     this.intervenantsChoisis = this.intervenantsChoisis.filter(function(element) {\r\n       return element !== item\r\n     })\r\n     this.storage.set(\"intervenantsItems\", this.selectedIntervenants)  \r\n     this.storage.set(\"intervenantsString\", this.intervenantsChoisis)   \r\n     alert(this.intervenantsChoisis)\r\n   } \r\n\r\n\r\n  /* --- fonctions liées à la ceinture --- */\r\n  \r\n  deg2rad(deg) {\r\n    return deg * (Math.PI/180)\r\n  }\r\n  \r\n  //fonction calcul de distance \r\n  getDistanceFromLatLonInKm(lat1, lon1, lat2, lon2) {\r\n    var R = 6371; // Radius of the earth in km\r\n    var dLat = this.deg2rad(lat2-lat1);  // deg2rad below\r\n    var dLon = this.deg2rad(lon2-lon1); \r\n    var a = \r\n      Math.sin(dLat/2) * Math.sin(dLat/2) +\r\n      Math.cos(this.deg2rad(lat1)) * Math.cos(this.deg2rad(lat2)) * \r\n      Math.sin(dLon/2) * Math.sin(dLon/2)\r\n      ; \r\n    var c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a)); \r\n    var d = R * c; // Distance in km\r\n    return d;\r\n  } \r\n\r\n  \r\n  async onSelectedCeinture(item: any){\r\n\r\n    //var res = await this.global.upcmodbus.client.disconnect()\r\n    //WifiWizard2.disconnect()\r\n\r\n    this.item = item;\r\n\r\n    if(this.isCeintureSelected == true){ \r\n     this.ceintureChoisieObjectTmp = item.item_id  \r\n     this.selectedUpcSsidTmp = item.item_id.communicationParameters.comWiFiName \r\n     this.selectedUpcPassTmp = item.item_id.communicationParameters.comWiFiPass \r\n     this.changementCeintureAlert();\r\n    }\r\n    else{   \r\n      await this.storage.set(\"ceintureChoisieObject\", JSON.stringify(item.item_id)) \r\n      this.ceintureChoisieObject = item.item_id   \r\n      this.isCeintureSelected = true;     \r\n      this.ceintureId = item.item_id.id    \r\n    \r\n      this.selectedCeintureName = item.item_text;    \r\n      this.selectedUpcSsid = item.item_id.communicationParameters.comWiFiName\r\n      this.selectedUpcPass = item.item_id.communicationParameters.comWiFiPass     \r\n      \r\n      await this.storage.set(\"ssid\", this.selectedUpcSsid)\r\n      await this.storage.set(\"password\", this.selectedUpcPass)\r\n      await this.storage.set(\"ceintureId\", this.ceintureId)\r\n      await this.storage.set(\"upcname\", this.ceintureChoisieObject.upcNameId)\r\n\r\n      /*Récupération commentaires \"à faire\" dans la base de données*/\r\n      this.getCommentaires(item)          \r\n  \r\n    }    \r\n   \r\n  }\r\n\r\n  onRemoveCeinture(item : any){     \r\n    this.isCeintureSelected = false; \r\n    this.storage.set(\"ceintureChoisieObject\", \"\")   \r\n  }\r\n \r\n\r\n  connectToUpc(){   \r\n\r\n    if(this.displayCommentaire == true){ //placé ici car si placé plus tôt problème de chargement du DOM      \r\n      this.commentaire.result.forEach(element => {                 \r\n        $(\"#commentairesList\").append(\"<li>\"+element.mess+\"</li>\")    \r\n      });\r\n    } \r\n    var d=new Date()    \r\n    this.global.logs.push(this.global.msToTime(d.getTime())+\" --- Sélection ceinture ---\")\r\n    this.global.connexionRequise=\"UPC\"\r\n   \r\n   \r\n    \r\n    this.loadingFullModbusValues()\r\n             \r\n    /*  await this.global.upcmodbus.client.getStringFromHoldingRegister(40001,10).then(res=>{\r\n        this.connectedUpcName = res;                                \r\n        if(this.connectedUpcName == this.ceintureChoisieObject.upcNameId){   \r\n          this.storage.set(\"upcname\",this.connectedUpcName);                 \r\n          \r\n        }\r\n        else{                \r\n          this.showAlert(res, this.ceintureChoisieObject.upcNameId)                   \r\n        }                                \r\n      }).catch(err=>{alert(JSON.stringify(err))}) */   \r\n    \r\n  }  \r\n\r\n\r\n  \r\n  //fonction qui charge les données de l'upc \r\n  async loadingFullModbusValues(){   \r\n\r\n       \r\n     //mode de diffusion\r\n     this.events.subscribe(\"loadParameters\",($event)=>{\r\n      \r\n      switch(this.global.upcmodbus.general.upcStatus){\r\n        case 0:\r\n          this.modeOperation = \"Diffusion OFF\"\r\n          break;                        \r\n        case 1:\r\n          this.modeOperation = \"Diff. programmée ACTIF\"\r\n          break;\r\n        case 2:\r\n          this.modeOperation = \"Mode ADJUST\"\r\n          break;\r\n        case 3:\r\n          this.modeOperation = \"Mode CHECK Pressions\"\r\n          break;\r\n        case 4:\r\n          this.modeOperation = \"Auto-cal. offset\"\r\n          break;      \r\n        case 5:\r\n          this.modeOperation = \"Test R1 Vide\"\r\n          break;\r\n        case 6:\r\n          this.modeOperation=\"Test R2 Vide\"\r\n          break;\r\n        case 7:\r\n          this.modeOperation=\"Test Réserve Vide\"\r\n          break;\r\n        case 100:\r\n          this.modeOperation=\"R1 & R2 vides\"\r\n          break;\r\n      }      \r\n     \r\n      \r\n     //nombre de pièges           \r\n      this.nbPieges = this.global.upcmodbus.general.upcTrapNum  \r\n        \r\n      console.log(this.nbPieges);\r\n    \r\n\r\n     //mode de connexion\r\n      \r\n        \r\n        switch(this.global.upcmodbus.communicationParameters.comMdmMode){\r\n          case 0:\r\n            this.modeConnexion = \"non enregistré\"\r\n            break;                        \r\n          case 1:\r\n            this.modeConnexion = \"2G GPRS\"\r\n            break;\r\n          case 2:\r\n            this.modeConnexion = \"2G EDGE\"\r\n            break;\r\n          case 3:\r\n            this.modeConnexion = \"3G WCDMA\"\r\n            break;\r\n          case 4:\r\n            this.modeConnexion = \"3G HSDPA\"\r\n            break;\r\n          case 5:\r\n            this.modeConnexion = \"3G HSUPA\"\r\n            break;\r\n          case 6:\r\n            this.modeConnexion = \"3G HSDPA/HSUPA\"\r\n            break;\r\n          case 7:\r\n            this.modeConnexion = \"4G\"\r\n            break;\r\n        }       \r\n                      \r\n      \r\n    \r\n\r\n     //niveau de connexion\r\n     this.niveauConnexion = this.global.upcmodbus.communicationParameters.comGsmLevel\r\n    \r\n    \r\n\r\n     //version firmware\r\n     this.versionFw = this.global.upcmodbus.general.upcFwVer\r\n    \r\n\r\n    //ssid\r\n    this.ssid = this.global.upcmodbus.communicationParameters.comWiFiName\r\n            \r\n\r\n    this.cd.detectChanges();\r\n\r\n      \r\n    /*if(this.modeOperation == \"\"){\r\n      this.modeOperation = \"-\"\r\n    }\r\n    if(this.nbPieges == \"\"){\r\n      this.nbPieges = \"-\"\r\n    }  \r\n    if(this.modeConnexion == \"\"){\r\n      this.modeConnexion = \"-\"\r\n    }  \r\n    if(this.niveauConnexion == \"\"){\r\n      this.niveauConnexion = \"-\"\r\n    }  \r\n    if(this.versionFw == \"\"){\r\n      this.versionFw = \"-\"\r\n    } */       \r\n                   \r\n     })  \r\n\r\n  \r\n   \r\n  }\r\n\r\n \r\n\r\n  /*Changement de ceinture dans le cas d'une intervention en cours*/\r\n  changementCeintureAlert(){ \r\n    return new Promise<void>(async (resolve, reject)=>{\r\n      this.alertController.create({\r\n      header : \"Attention\",\r\n      subHeader : \"Intervention en cours\",\r\n      message : \"Une intervention est en cours sur la ceinture \"+this.selectedCeintureName+\". Les données ne seront pas enregistrées, souhaitez-vous continuer ?\",\r\n      buttons : [\r\n        {\r\n          text: \"Annuler\", \r\n          role: 'cancel',\r\n          handler: () => { \r\n            this.selectedUpcSsidTmp = \"\";\r\n            this.selectedUpcPassTmp = \"\"; \r\n            this.nearUPCList.forEach(element =>{ //compare les id pour présélectionner la ceinture                 \r\n              if(this.ceintureChoisieObject.id == element.item_id.id){\r\n                this.selectedItems = [element];                                                                                                              \r\n              }\r\n            })  \r\n            this.displayCommentaire = false;\r\n            this.isCeintureSelected = false; \r\n            this.selectedItems = [];                        \r\n            resolve();\r\n          }\r\n        },\r\n        {\r\n          text: \"Continuer\", handler: () => {  \r\n            this.selectedUpcSsid = this.selectedUpcSsidTmp\r\n            this.selectedUpcPass = this.selectedUpcPassTmp\r\n            this.ceintureChoisieObject = this.ceintureChoisieObjectTmp\r\n            this.storage.set(\"ceintureChoisieObject\", JSON.stringify(this.ceintureChoisieObject)) \r\n            this.selectedCeintureName = this.ceintureChoisieObject.upcNameId\r\n            this.display = false   \r\n            this.display = true                   \r\n            WifiWizard2.disconnect().then(\r\n              this.connectToUpc()\r\n            );           \r\n            resolve();      \r\n          }\r\n        }\r\n      ]\r\n    }).then(res=>res.present());\r\n  })\r\n  }\r\n  \r\n  \r\n\r\n  geolocationAlert(){\r\n    return new Promise<void>(async (resolve, reject)=>{\r\n      this.alertController.create({\r\n      header : \"Attention\",\r\n      subHeader : \"Géolocalisation requise\",\r\n      message : \"La page a besoin de la position de l'appareil. Activez la géolocalisation puis appuyez sur 'OK'.\",\r\n      buttons : [\r\n        {\r\n          text: \"Poursuivre sans géolocalisation\", \r\n          role: 'cancel',\r\n          handler: () => {             \r\n            this.useGeolocation = false;\r\n            this.makeUpcList();                                        \r\n            resolve();\r\n          }\r\n        },\r\n        {\r\n          text: \"OK\", handler: () => { \r\n            switch(this.geolocationErrorFunction){\r\n              case \"check\":\r\n                this.checkLocationEnabled(this.data)\r\n                break;\r\n              case \"pos\":\r\n                this.successGeolocation(this.data)\r\n                break;\r\n            }\r\n                              \r\n            resolve();      \r\n          }\r\n        }\r\n      ]\r\n    }).then(res=>res.present());\r\n  })\r\n  }\r\n\r\n\r\n  async createSequence(){    \r\n\r\n  \r\n    var notSortedSequenceOfScreensTmp = []\r\n\r\n    this.motive.forEach(element =>{//récupère tous les écrans pour tous les motifs d'intervention choisis\r\n      switch(element){\r\n        case \"Installation\":\r\n          this.sequenceOfScreensOptions.installation.forEach(element =>{\r\n            notSortedSequenceOfScreensTmp.push(element)\r\n          })\r\n          break;\r\n        case \"Modification du nombre de pièges\":\r\n          this.sequenceOfScreensOptions.modificationNbPieges.forEach(element =>{notSortedSequenceOfScreensTmp.push(element)})\r\n          break;\r\n        case \"Remise en route\":\r\n          this.sequenceOfScreensOptions.remiseEnRoute.forEach(element =>{notSortedSequenceOfScreensTmp.push(element)})\r\n          break;\r\n        case \"Maintenance\": \r\n          this.sequenceOfScreensOptions.maintenance.forEach(element =>{notSortedSequenceOfScreensTmp.push(element)})\r\n          break;\r\n        case \"Changements de bouteilles CO2\":\r\n          this.sequenceOfScreensOptions.changementBouteillesCo2.forEach(element =>{notSortedSequenceOfScreensTmp.push(element)})\r\n          break;\r\n        case \"Changement d'UPC\":\r\n          this.sequenceOfScreensOptions.changementUpc.forEach(element =>{notSortedSequenceOfScreensTmp.push(element)})\r\n          break;\r\n        case \"Hivernage\":           \r\n          break;  \r\n        default : \r\n          break;   \r\n      }\r\n    })\r\n    \r\n    const tmp = notSortedSequenceOfScreensTmp.reduce(\r\n      (acc, element) => {\r\n        return acc.add(element)\r\n      }, new Set()\r\n    )\r\n    this.sequenceOfScreensTmp = [...tmp]\r\n\r\n    this.sequenceOfScreensTmp.push(\"Commentaires\", \"Rapport de visite\", \"Fin d'intervention\") \r\n    \r\n    var sequenceTmp = [];   \r\n\r\n    this.sequenceOfScreensTmp.forEach(element=>{ \r\n      var page;\r\n      switch(element){\r\n        case \"Initialisation / Echange boitier UPC\":\r\n          page=\"initechangeboitierupc\";\r\n          break;\r\n        case \"Etat de la connexion au réseau\":\r\n          page=\"connection\";\r\n          break;\r\n        case \"Changement de bouteilles sur ceinture\":\r\n          page=\"addbottleceint\";\r\n          break;\r\n        case \"Réglage des détendeurs\":\r\n          page=\"adjustment\";\r\n          break;\r\n        case \"Controle débits Mini/Maxi\":\r\n          page=\"controldiff\";\r\n          break;\r\n        case \"Vérification débits pièges individuels\":\r\n          page=\"verifpiegesindividuels\";\r\n          break;\r\n        case \"Programmation diffusion CO2\":\r\n          page=\"synchro\";\r\n          break;\r\n        case \"Mesures pressions de sortie\":\r\n          page=\"check\";\r\n          break;\r\n        case \"Modification du nombre de pièges\":\r\n          page=\"modifnbpieges\";\r\n          break;      \r\n        case \"Commentaires\":\r\n          page=\"commentaires\";\r\n          break;\r\n        case \"Rapport de visite\":\r\n          page=\"rapportvisite\";\r\n          break;\r\n        case \"Fin d'intervention\":\r\n          page=\"finintervention\";\r\n          break;        \r\n      }\r\n      sequenceTmp.push([element, false, page]) \r\n    })\r\n\r\n    this.storage.get(\"sequence\").then(res=>{\r\n      var sequence;\r\n      if(res == undefined){             \r\n        sequence = sequenceTmp;     \r\n      }\r\n      else{\r\n        if(res != null){          \r\n          sequenceTmp.forEach(elementTmp =>{\r\n            res.forEach(elementRes =>{\r\n              if(elementRes[2] == elementTmp[2]){\r\n                if(elementRes[1] != elementTmp[1]){\r\n                  elementTmp[1] = elementRes[1]\r\n                }\r\n              }\r\n            })           \r\n          }) \r\n          sequence = sequenceTmp;                   \r\n        }\r\n      }\r\n      this.storage.set(\"sequence\", sequence).then(()=>{\r\n        this.router.navigate([sequence[0][2]])\r\n      }) \r\n    })\r\n\r\n    \r\n\r\n  \r\n  \r\n  \r\n\r\n  }\r\n\r\n  /*Commence la séquence et/ou redirige vers la première page de la séquence suivante*/\r\n  goNext(){\r\n    if(this.motive == [] || this.intervenants == [] || this.ceintureChoisieObject == \"\"){\r\n      alert(\"Vous devez remplir tous les champs pour continuer.\")\r\n    }  \r\n    else{\r\n      this.createSequence();\r\n    }\r\n    \r\n    \r\n\r\n  }\r\n\r\n  reload(){\r\n    document.location.reload();\r\n  }\r\n\r\n\r\n\r\n}\r\n\r\n"],"sourceRoot":""}