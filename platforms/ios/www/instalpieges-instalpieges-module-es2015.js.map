{"version":3,"sources":["./src/app/instalpieges/instalpieges.page.html","./src/app/instalpieges/instalpieges-routing.module.ts","./src/app/instalpieges/instalpieges.module.ts","./src/app/instalpieges/instalpieges.page.scss","./src/app/instalpieges/instalpieges.page.ts"],"names":[],"mappings":"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","file":"instalpieges-instalpieges-module-es2015.js","sourcesContent":["module.exports = \"<ion-header>\\n  <ion-toolbar color=\\\"primary\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>Installation</ion-title>\\n    <ion-buttons slot=\\\"end\\\" *ngIf=\\\"!global.isBBAM\\\">\\n      <ion-button fill=\\\"clear\\\"> <ion-icon name=\\\"globe\\\" color=\\\"light\\\"></ion-icon>ADMIN</ion-button> \\n     </ion-buttons>\\n     <ion-buttons slot=\\\"end\\\" *ngIf=\\\"global.isBBAM\\\">\\n      <ion-button fill=\\\"clear\\\"> <ion-icon name=\\\"wifi\\\" color=\\\"light\\\"></ion-icon>{{global.ssid}}</ion-button> \\n     </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content [forceOverscroll]=\\\"false\\\">\\n  <ion-row>\\n    <ion-col size=\\\"12\\\">\\n      <h1 style=\\\"text-align: center;\\\"> {{\\\"Vous avez \\\"+nbpiege+\\\" Pièges dans la ceinture \\\"+upc3.upcNameId}} </h1>\\n    </ion-col>\\n    <ion-col size=\\\"12\\\">\\n      <h2>Souhaitez vous modifier le nombre de pièges ?</h2>\\n    </ion-col>\\n    <ion-col>\\n      <ion-item>\\n        <ion-input [(ngModel)]=\\\"nbpiege\\\" placeholder=\\\"Si oui combien ?\\\" type=\\\"tel\\\"></ion-input>\\n      </ion-item>\\n    </ion-col>\\n  </ion-row>\\n  <cad-canvas></cad-canvas>\\n  <ion-button (click)=\\\"onEdit();\\\" size=\\\"block\\\"> Modifier</ion-button>\\n  <ion-button (click)=\\\"onContinue();\\\" size=\\\"block\\\" color=\\\"secondary\\\">Continuer</ion-button>\\n</ion-content>\\n\"","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { InstalpiegesPage } from './instalpieges.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: InstalpiegesPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class InstalpiegesPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { InstalpiegesPageRoutingModule } from './instalpieges-routing.module';\n\nimport { InstalpiegesPage } from './instalpieges.page';\nimport {CADCanvasComponent} from '../canvas/canvas.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    InstalpiegesPageRoutingModule\n  ],\n  declarations: [InstalpiegesPage,CADCanvasComponent]\n})\nexport class InstalpiegesPageModule {}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2luc3RhbHBpZWdlcy9pbnN0YWxwaWVnZXMucGFnZS5zY3NzIn0= */\"","import { Component, OnInit, NgZone } from '@angular/core';\nimport { Storage } from '@ionic/storage';\nimport {GlobalService} from '../api/global.service';\nimport {Upcv3serviceService} from '../api/upcv3service.service';\nimport { UPCV3 } from '../model/upcv3/upcv3';\nimport {Router} from '@angular/router';\nimport { Platform } from '@ionic/angular';\nimport { UPCModbus, UPCState } from '../model/upcv3/upcmodbus';\nimport { Network } from '@ionic-native/network/ngx';\nimport { Hotspot, HotspotNetwork } from '@ionic-native/hotspot/ngx';\nimport { async } from '@angular/core/testing';\n\n@Component({\n  selector: 'app-instalpieges',\n  templateUrl: './instalpieges.page.html',\n  styleUrls: ['./instalpieges.page.scss'],\n})\nexport class InstalpiegesPage implements OnInit {\n  upc3:UPCV3;\n  upc : UPCModbus;\n  nbpiege:number;\n  token:string;\n  UPCModbus : UPCModbus;\n  upcStatus : number;\n  isBBAM = false;\n  constructor(private storage:Storage,\n              private global:GlobalService,\n              private upcv3service:Upcv3serviceService,\n              private router:Router,\n              private platform : Platform, private ngZone: NgZone,private network : Network,private hospot : Hotspot) { \n\n                // Init UPC\n    if(this.platform.is(\"android\")){\n      this.hospot.connectToWifi(\"BBAM\",\"BioBeltService\").then(res=>{\n        this.isBBAM = true;\n        this.platform.ready().then(\n          readySource => {\n            if (readySource == 'cordova') {\n              alert(\"Yes\");\n              this.upc = new UPCModbus(state => {\n                this.ngZone.run(() => {\n                  // Force refresh UI\n                });\n              });\n              \n              this.network.onConnect().subscribe(() => {\n                alert(this.network.type);\n                if (this.network.type === this.network.Connection.WIFI) {\n                  this.upc.reconnect();\n                 \n                  \n                }\n              });\n            }\n          }\n        );\n      }).catch(error=>{\n        alert(JSON.stringify(error));\n      })   \n    } else {\n      \n      this.platform.ready().then(\n        readySource => {\n          if (readySource == 'cordova') {\n            alert(\"Yes\");\n            this.upc = new UPCModbus(state => {\n              this.ngZone.run(() => {\n                // Force refresh UI\n                \n              });\n            });\n            setTimeout(()=>{\n                this.upc.client.connect();\n            },5000)\n            setTimeout(()=>{\n              \n              this.upc.client.getStringFromHoldingRegister(40001,10).then(res=>{\n                this.upc3.upcNameId = res;\n                alert(res);\n              }).catch(error=>{\n                alert(JSON.stringify(error));\n              })\n            },10000);\n            setTimeout(()=>{\n              this.upc.client.getStringFromHoldingRegister(40015,1).then(res=>{\n                this.nbpiege = res;\n                alert(res);\n              }).catch(error=>{\n                alert(JSON.stringify(error));\n              })\n            },10000)\n            \n            \n            \n            this.network.onConnect().subscribe(() => {\n              if (this.network.type === this.network.Connection.WIFI) {\n                this.upc.reconnect();\n                \n              }\n            });\n            \n          }\n        }\n      );\n    }           \n          \n    \n    }\n\n  ngOnInit() {\n    this.upc3 = this.global.upc3;\n    \n\t\n  this.nbpiege = this.global.upc3.generalParameters.upcTrapNum;\n    this.storage.get(\"token\").then(val=>{\n      this.token = val\n    });\n  }\n  async onEdit(){\n    \n    //this.upc.editTrap();\n    \n    if(this.platform.is(\"android\")){\n      var value = Math.round(this.nbpiege*this.upc3.generalParameters.co2FlowRefTrap*10.0)/10.0;\n      alert(JSON.stringify(this.upc));\n      await this.upc.client.setIntInHoldingRegister(40015,1,this.nbpiege).then(data=>{\n        alert(JSON.stringify(data));\n      }).catch(err=>{\n        alert(JSON.stringify(err));\n      });\n      \n      await this.upc.client.setFloatInHoldingRegister(40018,value).then(data=>{\n        alert(JSON.stringify(data));\n      }).catch(err=>{\n        alert(JSON.stringify(err));\n      });;\n      await this.upc.client.setFloatInHoldingRegister(40020,value).then(data=>{\n        alert(JSON.stringify(data));\n      }).catch(err=>{\n        alert(JSON.stringify(err));\n      });\n      this.router.navigate(['bottles']);\n    } /*else {\n      var value = Math.round(this.nbpiege*this.upc3.generalParameters.co2FlowRefTrap*10.0)/10.0;\n      alert(JSON.stringify(this.upc));\n      await this.upc.client.setIntInHoldingRegister(40015,1,this.nbpiege).then(data=>{\n        alert(JSON.stringify(data));\n      }).catch(err=>{\n        alert(JSON.stringify(err));\n      });\n      await this.upc.client.setFloatInHoldingRegister(40018,value).then(data=>{\n        alert(JSON.stringify(data));\n      }).catch(err=>{\n        alert(JSON.stringify(err));\n      });;\n      await this.upc.client.setFloatInHoldingRegister(40020,value).then(data=>{\n        alert(JSON.stringify(data));\n      }).catch(err=>{\n        alert(JSON.stringify(err));\n      });\n      /*this.upcv3service.editTrap(this.upc3.id,this.nbpiege,this.token).subscribe(res=>{\n        this.router.navigate(['bottles']);\n      })*/\n    /*}*/\n    setTimeout(async res=>{\n          await this.upc.client.connect();\n    },5000);\n    var value = Math.round(this.nbpiege*this.upc3.generalParameters.co2FlowRefTrap*10.0)/10.0;\n      setTimeout( async item=>{\n        this.upc.getAllVars();\n        this.upc.readGeneralParameters()\n        alert(JSON.stringify(this.upc.trapNum));\n        await this.upc.client.setIntInHoldingRegister(40015,1,this.nbpiege).then(data=>{\n          alert(JSON.stringify(data));\n        }).catch(err=>{\n          alert(JSON.stringify(err));\n        });\n      },10000);\n      setTimeout(async res=>{\n        await this.upc.client.connect();\n      },5000);\n      setTimeout(async item=>{\n        await this.upc.client.setFloatInHoldingRegister(40018,value).then(data=>{\n          alert(JSON.stringify(data));\n        }).catch(err=>{\n          alert(JSON.stringify(err));\n        });\n      },10000);\n      setTimeout(async res=>{\n        await this.upc.client.connect();\n        },5000);\n      setTimeout(async item =>{\n        await this.upc.client.setFloatInHoldingRegister(40020,value).then(data=>{\n          alert(JSON.stringify(data));\n        }).catch(err=>{\n          alert(JSON.stringify(err));\n        });\n      },10000);\n      \n    \n    \n    /*this.upcv3service.editTrap(this.upc3.id,this.nbpiege,this.token).subscribe(res=>{\n      this.router.navigate(['bottles']);\n    })*/\n  }\n  onContinue(){\n    this.router.navigate(['bottles']);\n  }\n\n}\n"],"sourceRoot":""}