{"version":3,"sources":["./src/app/check/check.page.html","./src/app/check/check-routing.module.ts","./src/app/check/check.module.ts","./src/app/check/check.page.scss","./src/app/check/check.page.ts"],"names":[],"mappings":"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","file":"check-check-module-es2015.js","sourcesContent":["module.exports = \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title>check</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <div class=\\\"col-12\\\">\\n    <div class=\\\"card bg-light mb-2\\\">\\n      <div class=\\\"card-body\\\">\\n        <h5 class=\\\"card-title\\\">Table des pressions</h5>\\n        <table class=\\\"table table-borderless table-sm text-center mb-0\\\">\\n          <thead>\\n            <tr>\\n              <th>Intensité</th>\\n              <th>Entrée B1 [bar]</th>\\n              <th>Entrée B2 [bar]</th>\\n              <th>Sortie [bar]</th>\\n              <th>Sortie réf. [bar]</th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr *ngFor=\\\"let c of co2PresOutRef;let i = index;\\\">\\n\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n    </div>\\n  </div>\\n</ion-content>\\n\"","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { CheckPage } from './check.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: CheckPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class CheckPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { CheckPageRoutingModule } from './check-routing.module';\n\nimport { CheckPage } from './check.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    CheckPageRoutingModule\n  ],\n  declarations: [CheckPage]\n})\nexport class CheckPageModule {}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NoZWNrL2NoZWNrLnBhZ2Uuc2NzcyJ9 */\"","import { Component, OnInit, ChangeDetectorRef, NgZone } from '@angular/core';\nimport { Hotspot, HotspotNetwork } from '@ionic-native/hotspot/ngx';\nimport { UPCModbus } from '../model/upcv3/upcmodbus';\nimport { Network } from '@ionic-native/network/ngx';\nimport { Platform, LoadingController } from '@ionic/angular';\nimport { GlobalService } from '../api/global.service';\n\ndeclare var WifiWizard2: any;\n\n@Component({\n  selector: 'app-check',\n  templateUrl: './check.page.html',\n  styleUrls: ['./check.page.scss'],\n})\nexport class CheckPage implements OnInit {\n  upc : UPCModbus;\n  co2PresOutRef = [];\n  co2PresInp1 = [];\n  cos2PresInp2 = [];\n  co2PresOutSet = [];\n\n  constructor(private platform : Platform,\n              private loadingCTRL : LoadingController,\n              private global : GlobalService,\n              private ngZone :NgZone,\n              private network : Network,\n              private hotspot : Hotspot,\n              private cd : ChangeDetectorRef) { }\n\n  ngOnInit() {\n    this.platform.ready().then(()=>{\n      if(this.platform.is(\"ios\")){\n        WifiWizard2.iOSConnectNetwork(\"BBAM\",\"BioBeltService\").then(async item=>{\n          var loadingCTRL = await this.loadingCTRL.create({\n            message : \"Connection à l'UPC en cours...\",\n            duration : 10000\n          });\n          loadingCTRL.present();\n          this.global.isBBAM = true;\n          this.platform.ready().then(async readySource=>{\n            if (readySource == 'cordova') {\n              this.upc = new UPCModbus(state => {\n                this.ngZone.run(() => {\n                  // Force refresh UI\n                  \n                    \n                    //this.readDiffusionParameters();\n                  \n                });\n              });\n              this.network.onConnect().subscribe(async res=>{\n                if (this.network.type === this.network.Connection.WIFI) {\n                  await this.upc.client.connect();\n                  setTimeout(()=>{\n                    this.ngZone.run(async ()=>{\n                      //Read parameters for check 40271 40291\n                      for(var i =40271;i<40291;i+=2){\n                          this.upc.client.getFloatFromHoldingRegister(i).then(res=>{\n                            this.co2PresOutRef.push(res);\n                          })\n                      }\n                      this.cd.detectChanges();\n                      // 40229 - 40249\n                      for(var j = 40229;j<40249;j+=2) {\n                        this.upc.client.getFloatFromHoldingRegister(j).then(res=>{\n                          this.co2PresInp1.push(res/1000);\n                        })\n                      }\n                      this.cd.detectChanges();\n                      for(var k = 40249;k<40269;k+=2){\n                        this.upc.client.getFloatFromHoldingRegister(k).then(res=>{\n                          this.cos2PresInp2.push(res/1000);\n                        })\n                      }\n                      this.cd.detectChanges();\n                      for(var l = 40356;l<40376;l+=2){\n                        this.upc.client.getFloatFromHoldingRegister(l).then(res=>{\n                          this.co2PresOutSet.push(res/1000);\n                        })\n                      }\n                      this.cd.detectChanges();\n                    })\n                  },5000)\n                }\n              })\n            }\n          })\n        })\n      } else if (this.platform.is(\"android\")){\n          this.hotspot.connectToWifi(\"BBAM\",\"BioBeltService\").then(async res=>{\n            var loading = await this.loadingCTRL.create({\n              message : \"Connection à l'UPC en cours...\",\n              duration : 10000\n            })\n            loading.present();\n            this.global.isBBAM = true;\n            this.platform.ready().then(\n              async readySource=>{\n                if (readySource == 'cordova') {\n                  this.upc = new UPCModbus(state => {\n                    this.ngZone.run(() => {\n                      // Force refresh UI\n                      \n                        \n                        //this.readDiffusionParameters();\n                      \n                    });\n                  });\n                }\n                await this.upc.client.connect();\n\n                setTimeout(()=>{\n                    //Read parameters for check 40271 40291\n                    for(var i =40271;i<40291;i+=2){\n                      this.upc.client.getFloatFromHoldingRegister(i).then(res=>{\n                        this.co2PresOutRef.push(res);\n                      })\n                    }\n                    this.cd.detectChanges();\n                    // 40229 - 40249\n                    for(var j = 40229;j<40249;j+=2) {\n                      this.upc.client.getFloatFromHoldingRegister(j).then(res=>{\n                        this.co2PresInp1.push(res/1000);\n                      })\n                    }\n                    this.cd.detectChanges();\n                    for(var k = 40249;k<40269;k+=2){\n                      this.upc.client.getFloatFromHoldingRegister(k).then(res=>{\n                        this.cos2PresInp2.push(res/1000);\n                      })\n                    }\n                    this.cd.detectChanges();\n                    for(var l = 40356;l<40376;l+=2){\n                      this.upc.client.getFloatFromHoldingRegister(l).then(res=>{\n                        this.co2PresOutSet.push(res/1000);\n                      })\n                    }\n                    this.cd.detectChanges();\n                },5000)\n              }\n            )\n          })\n      }\n    })\n    \n  }\n\n}\n"],"sourceRoot":""}