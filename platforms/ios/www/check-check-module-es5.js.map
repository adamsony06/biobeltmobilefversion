{"version":3,"sources":["./src/app/check/check.page.html","./src/app/check/check-routing.module.ts","./src/app/check/check.module.ts","./src/app/check/check.page.scss","./src/app/check/check.page.ts"],"names":[],"mappings":"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","file":"check-check-module-es5.js","sourcesContent":["module.exports = \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title>check</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <div class=\\\"col-12\\\">\\n    <div class=\\\"card bg-light mb-2\\\">\\n      <div class=\\\"card-body\\\">\\n        <h5 class=\\\"card-title\\\">Table des pressions</h5>\\n        <table class=\\\"table table-borderless table-sm text-center mb-0\\\">\\n          <thead>\\n            <tr>\\n              <th>Intensité</th>\\n              <th>Entrée B1 [bar]</th>\\n              <th>Entrée B2 [bar]</th>\\n              <th>Sortie [bar]</th>\\n              <th>Sortie réf. [bar]</th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr *ngFor=\\\"let c of co2PresOutRef;let i = index;\\\">\\n\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n    </div>\\n  </div>\\n</ion-content>\\n\"","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { CheckPage } from './check.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: CheckPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class CheckPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { CheckPageRoutingModule } from './check-routing.module';\n\nimport { CheckPage } from './check.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    CheckPageRoutingModule\n  ],\n  declarations: [CheckPage]\n})\nexport class CheckPageModule {}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NoZWNrL2NoZWNrLnBhZ2Uuc2NzcyJ9 */\"","import { Component, OnInit, ChangeDetectorRef, NgZone } from '@angular/core';\nimport { Hotspot, HotspotNetwork } from '@ionic-native/hotspot/ngx';\nimport { UPCModbus } from '../model/upcv3/upcmodbus';\nimport { Network } from '@ionic-native/network/ngx';\nimport { Platform, LoadingController } from '@ionic/angular';\nimport { GlobalService } from '../api/global.service';\n\ndeclare var WifiWizard2: any;\n\n@Component({\n  selector: 'app-check',\n  templateUrl: './check.page.html',\n  styleUrls: ['./check.page.scss'],\n})\nexport class CheckPage implements OnInit {\n  upc : UPCModbus;\n  co2PresOutRef = [];\n  co2PresInp1 = [];\n  cos2PresInp2 = [];\n  co2PresOutSet = [];\n\n  constructor(private platform : Platform,\n              private loadingCTRL : LoadingController,\n              private global : GlobalService,\n              private ngZone :NgZone,\n              private network : Network,\n              private hotspot : Hotspot,\n              private cd : ChangeDetectorRef) { }\n\n  ngOnInit() {\n    this.platform.ready().then(()=>{\n      if(this.platform.is(\"ios\")){\n        WifiWizard2.iOSConnectNetwork(\"BBAM\",\"BioBeltService\").then(async item=>{\n          var loadingCTRL = await this.loadingCTRL.create({\n            message : \"Connection à l'UPC en cours...\",\n            duration : 10000\n          });\n          loadingCTRL.present();\n          this.global.isBBAM = true;\n          this.platform.ready().then(async readySource=>{\n            if (readySource == 'cordova') {\n              this.upc = new UPCModbus(state => {\n                this.ngZone.run(() => {\n                  // Force refresh UI\n                  \n                    \n                    //this.readDiffusionParameters();\n                  \n                });\n              });\n              this.network.onConnect().subscribe(async res=>{\n                if (this.network.type === this.network.Connection.WIFI) {\n                  await this.upc.client.connect();\n                  setTimeout(()=>{\n                    this.ngZone.run(async ()=>{\n                      //Read parameters for check 40271 40291\n                      for(var i =40271;i<40291;i+=2){\n                          this.upc.client.getFloatFromHoldingRegister(i).then(res=>{\n                            this.co2PresOutRef.push(res);\n                          })\n                      }\n                      this.cd.detectChanges();\n                      // 40229 - 40249\n                      for(var j = 40229;j<40249;j+=2) {\n                        this.upc.client.getFloatFromHoldingRegister(j).then(res=>{\n                          this.co2PresInp1.push(res/1000);\n                        })\n                      }\n                      this.cd.detectChanges();\n                      for(var k = 40249;k<40269;k+=2){\n                        this.upc.client.getFloatFromHoldingRegister(k).then(res=>{\n                          this.cos2PresInp2.push(res/1000);\n                        })\n                      }\n                      this.cd.detectChanges();\n                      for(var l = 40356;l<40376;l+=2){\n                        this.upc.client.getFloatFromHoldingRegister(l).then(res=>{\n                          this.co2PresOutSet.push(res/1000);\n                        })\n                      }\n                      this.cd.detectChanges();\n                    })\n                  },5000)\n                }\n              })\n            }\n          })\n        })\n      } else if (this.platform.is(\"android\")){\n          this.hotspot.connectToWifi(\"BBAM\",\"BioBeltService\").then(async res=>{\n            var loading = await this.loadingCTRL.create({\n              message : \"Connection à l'UPC en cours...\",\n              duration : 10000\n            })\n            loading.present();\n            this.global.isBBAM = true;\n            this.platform.ready().then(\n              async readySource=>{\n                if (readySource == 'cordova') {\n                  this.upc = new UPCModbus(state => {\n                    this.ngZone.run(() => {\n                      // Force refresh UI\n                      \n                        \n                        //this.readDiffusionParameters();\n                      \n                    });\n                  });\n                }\n                await this.upc.client.connect();\n\n                setTimeout(()=>{\n                    //Read parameters for check 40271 40291\n                    for(var i =40271;i<40291;i+=2){\n                      this.upc.client.getFloatFromHoldingRegister(i).then(res=>{\n                        this.co2PresOutRef.push(res);\n                      })\n                    }\n                    this.cd.detectChanges();\n                    // 40229 - 40249\n                    for(var j = 40229;j<40249;j+=2) {\n                      this.upc.client.getFloatFromHoldingRegister(j).then(res=>{\n                        this.co2PresInp1.push(res/1000);\n                      })\n                    }\n                    this.cd.detectChanges();\n                    for(var k = 40249;k<40269;k+=2){\n                      this.upc.client.getFloatFromHoldingRegister(k).then(res=>{\n                        this.cos2PresInp2.push(res/1000);\n                      })\n                    }\n                    this.cd.detectChanges();\n                    for(var l = 40356;l<40376;l+=2){\n                      this.upc.client.getFloatFromHoldingRegister(l).then(res=>{\n                        this.co2PresOutSet.push(res/1000);\n                      })\n                    }\n                    this.cd.detectChanges();\n                },5000)\n              }\n            )\n          })\n      }\n    })\n    \n  }\n\n}\n"],"sourceRoot":""}