{"version":3,"sources":["./src/app/optionbottle/optionbottle.page.html","./src/app/optionbottle/optionbottle-routing.module.ts","./src/app/optionbottle/optionbottle.module.ts","./src/app/optionbottle/optionbottle.page.scss","./src/app/optionbottle/optionbottle.page.ts"],"names":[],"mappings":"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","file":"optionbottle-optionbottle-module-es5.js","sourcesContent":["module.exports = \"<ion-header>\\n  <ion-toolbar color=\\\"primary\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button></ion-menu-button>\\n    </ion-buttons>\\n    <ion-title>Bouteilles</ion-title>\\n    <ion-buttons slot=\\\"end\\\" *ngIf=\\\"!global.isBBAM\\\">\\n      <ion-button fill=\\\"clear\\\"> <ion-icon name=\\\"globe\\\" color=\\\"light\\\"></ion-icon>ADMIN</ion-button> \\n     </ion-buttons>\\n     <ion-buttons slot=\\\"end\\\" *ngIf=\\\"global.isBBAM\\\">\\n      <ion-button fill=\\\"clear\\\"> <ion-icon name=\\\"wifi\\\" color=\\\"light\\\"></ion-icon>{{global.ssid}}</ion-button> \\n     </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n<ion-list>\\n  <ion-item (click)=\\\"onChooseStock(0);\\\">\\n    <ion-icon name=\\\"albums\\\" color=\\\"primary\\\"></ion-icon>\\n    <ion-label>Ajouter Stock</ion-label>\\n    <!--<ion-icon [name]=\\\"name\\\" color=\\\"primary\\\" slot=\\\"end\\\"></ion-icon>-->\\n  </ion-item>\\n  <ion-item (click)=\\\"onChooseStock(1);\\\">\\n    <ion-icon name=\\\"remove\\\" color=\\\"primary\\\"></ion-icon>\\n    <ion-label>Retirer du Stock</ion-label>\\n  </ion-item>\\n  <!--<div *ngIf=\\\"isStock\\\">\\n    <ion-item *ngFor=\\\"let s of stock;\\\" (click)=\\\"gotoBottlesStock(s)\\\">\\n      <ion-label slot=\\\"end\\\">{{s.name}}</ion-label>\\n    </ion-item>\\n  </div>-->\\n\\n  \\n  \\n  <!--<ion-item (click)=\\\"onAddBottleCeint();\\\">\\n    \\n      <ion-icon name=\\\"compass\\\" color=\\\"primary\\\" ></ion-icon>\\n    \\n    <ion-label>Ajouter/Retirer Ceinture</ion-label>\\n  </ion-item>-->\\n  <ion-item (click)=\\\"onChooseStock(2);\\\">\\n    <ion-icon name=\\\"exit\\\" color=\\\"primary\\\"></ion-icon>\\n    Retour au dépôt\\n  </ion-item>\\n  <ion-item (click)=\\\"remRack();\\\">\\n    <ion-icon name=\\\"train\\\" color=\\\"primary\\\"></ion-icon>\\n    Retour au fournisseur\\n  </ion-item>\\n  \\n</ion-list>\\n</ion-content>\\n\"","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { OptionbottlePage } from './optionbottle.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: OptionbottlePage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class OptionbottlePageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { OptionbottlePageRoutingModule } from './optionbottle-routing.module';\n\nimport { OptionbottlePage } from './optionbottle.page';\nimport { RackcontentPage } from '../rackcontent/rackcontent.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    OptionbottlePageRoutingModule,\n  ],\n  declarations: [OptionbottlePage,RackcontentPage],\n  entryComponents : [RackcontentPage]\n  \n})\nexport class OptionbottlePageModule {}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL29wdGlvbmJvdHRsZS9vcHRpb25ib3R0bGUucGFnZS5zY3NzIn0= */\"","import { Component, OnInit } from '@angular/core';\nimport { Upcv3serviceService } from '../api/upcv3service.service';\nimport {Storage} from \"@ionic/storage\";\nimport { Code } from '../api/ApiResponse';\nimport { Router } from '@angular/router';\nimport { Platform, ModalController } from '@ionic/angular';\nimport { Stock } from '../model/stock';\nimport { AddbottlemodalPage } from '../addbottlemodal/addbottlemodal.page';\nimport { GlobalService } from '../api/global.service';\nimport { RackcontentPage } from '../rackcontent/rackcontent.page';\nimport { BarcodeScanner } from '@ionic-native/barcode-scanner/ngx';\ndeclare var WifiWizard2: any;\n\n@Component({\n  selector: 'app-optionbottle',\n  templateUrl: './optionbottle.page.html',\n  styleUrls: ['./optionbottle.page.scss'],\n})\nexport class OptionbottlePage implements OnInit {\n  name = \"arrow-dropright\";\n  isStock = false;\n  stock : Stock[];\n  token;\n  \n\n  constructor(private upc3Service : Upcv3serviceService,private storage : Storage,private router : Router,private platform : Platform,private modal : ModalController,private global : GlobalService, private scan : BarcodeScanner) { }\n  \n  async ngOnInit() {\n    this.storage.get(\"token\").then(val=>{\n      this.token = val;\n     /*this.upc3Service.getAllBottle(val).subscribe(res=>{\n       \n        if(res.code === Code.BOTTLE_RECOVERED) {\n          var stock = [];\n          var belt = [];\n          res.result.forEach(item=>{\n            if(item.localisationId === \"0840ffbf-82ee-4f23-a3b9-96b1f99cefdd\" || item.localisationId === '1e2b0d98-44a8-4fe8-a412-299f0991919d' || item.localisationId === \"8eea82b3-e17c-4a62-8e4a-389a8f15e9a2\" || item.localisationId === \"ff1c41aa-f9f7-478b-8b41-8616313f6d88\") {\n               stock.push(item);\n            }\n            else {\n              belt.push(item);\n            }\n          })\n          this.storage.set(\"stock\",JSON.stringify(stock));\n          this.storage.set(\"beltbottle\",JSON.stringify(belt));\n        }\n     })*/\n   })\n    this.platform.ready().then(res=>{\n      if (this.platform.is('ios')){\n        WifiWizard2.iOSDisconnectNetwork(\"BBAM\").then((res)=>{\n          this.storage.get(\"token\").then(val=>{\n            this.token = val;\n           /*this.upc3Service.getAllBottle(val).subscribe(res=>{\n             \n              if(res.code === Code.BOTTLE_RECOVERED) {\n                var stock = [];\n                var belt = [];\n                res.result.forEach(item=>{\n                  if(item.localisationId === \"0840ffbf-82ee-4f23-a3b9-96b1f99cefdd\" || item.localisationId === '1e2b0d98-44a8-4fe8-a412-299f0991919d' || item.localisationId === \"8eea82b3-e17c-4a62-8e4a-389a8f15e9a2\" || item.localisationId === \"ff1c41aa-f9f7-478b-8b41-8616313f6d88\") {\n                     stock.push(item);\n                  }\n                  else {\n                    belt.push(item);\n                  }\n                })\n                this.storage.set(\"stock\",JSON.stringify(stock));\n                this.storage.set(\"beltbottle\",JSON.stringify(belt));\n              }\n           })*/\n         })\n       })\n      }\n      \n    })\n    \n    \n    \n  }\n  onSynchro() {\n    this.global.onSynchroB1B2(this.token);\n  }\n  async onAddBottleCeint() {\n    this.router.navigate(['addbottleceint']);\n  }\n  async onChooseStock(i) {\n    localStorage.setItem(\"adds\",i);\n    this.router.navigate(['choosestock']);\n  }\n  remRack() {\n    this.scan.scan().then(async res=>{\n      if(res.text != ''){\n        var text = res.text;\n        this.upc3Service.getBottleFromRack(this.token,res.text).subscribe(async res=>{\n          alert(JSON.stringify(res));\n          if(res.result.length> 0){\n            var modal = await this.modal.create({\n              component : RackcontentPage,\n              componentProps : {\n                rack : text\n              }\n            })\n            modal.present();\n          } else {\n            alert(\"Aucune bouteille est associée à ce Rack !\");\n          }\n        },err=>{\n          alert(JSON.stringify(err));\n        })\n        \n        /*this.upcv3Service.removeRack(res.text,this.token).subscribe(res=>{\n\n        })*/\n      }\n      \n    })\n  }\n  goStock() {\n    if(!this.isStock){\n      this.name = \"arrow-dropdown\";\n      this.isStock = true;\n      \n      this.upc3Service.getAllStock(localStorage.getItem(\"token\")).subscribe(res=>{\n        \n        this.stock = res.result;\n      },err=>{\n        alert(\"Erreur de Connexion\");\n      })\n    }\n    else {\n      this.name = \"arrow-dropright\";\n      this.isStock = false;\n    } \n   \n    //this.router.navigate(['stock']);\n  }\n  \n\n}\n"],"sourceRoot":""}