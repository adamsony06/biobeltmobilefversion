{"version":3,"sources":["./src/app/home/home.page.html","./src/app/api/global.service.ts","./src/app/home/home.module.ts","./src/app/home/home.page.scss","./src/app/home/home.page.ts"],"names":[],"mappings":"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","file":"home-home-module-es2015.js","sourcesContent":["module.exports = \"<ion-header>\\n  <ion-toolbar color=\\\"primary\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button></ion-menu-button>\\n    </ion-buttons>\\n    <ion-title>\\n      Installation\\n    </ion-title>\\n    <ion-buttons slot=\\\"end\\\" *ngIf=\\\"!global.isBBAM\\\">\\n      <ion-button fill=\\\"clear\\\"> <ion-icon name=\\\"globe\\\" color=\\\"light\\\" (click)=\\\"onSynchroB1B2();\\\"></ion-icon>ADMIN</ion-button> \\n     </ion-buttons>\\n     <ion-buttons slot=\\\"end\\\" *ngIf=\\\"global.isBBAM\\\">\\n      <ion-button fill=\\\"clear\\\"> <ion-icon name=\\\"wifi\\\" color=\\\"light\\\"></ion-icon>{{global.ssid}}</ion-button> \\n     </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  \\n  <ion-grid>\\n    <ion-row>\\n      <ion-col size=\\\"12\\\">\\n        <ion-label>\\n          Ceintures à installer \\n        </ion-label>\\n      </ion-col>\\n      <ion-col>\\n        <ion-select placeholder=\\\"Ceintures\\\" [(ngModel)]=\\\"value\\\">\\n          <ion-select-option *ngFor=\\\"let upc3 of upcv3;let i = index;\\\" [value]=\\\"i\\\">\\n            {{upc3.upcNameId}} \\n          </ion-select-option>\\n        </ion-select>\\n      </ion-col>\\n    </ion-row>\\n    <ion-row>\\n      <ion-col size=\\\"12\\\"> Intervenants</ion-col>\\n      <ion-col>\\n        <ion-select placeholder=\\\"Intervenants\\\" multiple=\\\"true\\\" [(ngModel)]=\\\"op\\\">\\n          <ion-select-option *ngFor=\\\"let operator of operators\\\" [value]=\\\"operator.lastName\\\">\\n            {{operator.lastName}}\\n          </ion-select-option>\\n        </ion-select>\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n \\n</ion-content>\\n<ion-footer>\\n  \\n    <ion-button color=\\\"primary\\\" size=\\\"block\\\" (click)=\\\"goToPieges();\\\">Suivant</ion-button>\\n  \\n</ion-footer>\"","import { Injectable } from '@angular/core';\nimport { UPCV3 } from '../model/upcv3/upcv3';\nimport { Platform, LoadingController } from '@ionic/angular';\nimport { Upcv3serviceService } from './upcv3service.service';\ndeclare var WifiWizard2: any;\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class GlobalService {\n  public upc3:UPCV3;\n  public op :string;\n  public B1 = [];\n  public B2 = [];\n  public designationB1=[];\n  public designationB2 = [];\n  public ssid = \"\";\n  public isBBAM = false;\n  constructor(public platform : Platform, public loadingCTRL : LoadingController,private upcv3Service : Upcv3serviceService) { }\n\n  public onSynchroB1B2(token) {\n    if(localStorage.getItem(\"bottleB1\")){\n      var jsonB1 = JSON.parse(localStorage.getItem(\"bottleB1\"));\n      alert(JSON.stringify(jsonB1));\n      jsonB1.endate = new Date().toISOString().substr(0,16);\n      if(this.platform.is(\"ios\")){\n        WifiWizard2.iOSDisconnectNetwork(\"BBAM\").then(async res=>{\n          var loading = await this.loadingCTRL.create({\n            message : \"Synchronisation avec le Serveur en cours...\",\n            duration : 10000\n          })\n          loading.present();\n          this.upcv3Service.addBottleBelt(jsonB1,token).subscribe(res=>{\n            loading.dismiss();\n          })\n        })\n      }\n      else {\n        WifiWizard2.disconnect(\"BBAM\").then(async res=>{\n          var loading = await this.loadingCTRL.create({\n            message : \"Synchronisation avec le Serveur en cours...\",\n            duration : 10000\n          })\n          loading.present();\n          this.upcv3Service.addBottleBelt(jsonB1,token).subscribe(res=>{\n            loading.dismiss();\n          })\n        })\n      }\n    }\n    if(localStorage.getItem(\"bottleB2\")){\n      var jsonB2 = JSON.parse(localStorage.getItem(\"bottleB2\"));\n      jsonB2.endate = new Date().toISOString().substr(0,16);\n      if(this.platform.is(\"ios\")){\n        WifiWizard2.iOSDisconnectNetwork((\"BBAM\")).then(async res=>{\n          var loading = await this.loadingCTRL.create({\n            message : \"Synchronisation avec le Serveur en cours...\",\n            duration : 10000\n          })\n          loading.present();\n          this.upcv3Service.addBottleBelt(jsonB2,token).subscribe(res=>{\n            loading.dismiss();\n          })\n        })\n      } else {\n        WifiWizard2.disconnect(\"BBAM\").then(async res=>{\n          var loading = await this.loadingCTRL.create({\n            message : \"Synchronisation avec le Serveur en cours...\",\n            duration : 10000\n          })\n          loading.present();\n          this.upcv3Service.addBottleBelt(jsonB2,token).subscribe(res=>{\n            loading.dismiss();\n          })\n        })\n      }\n    }\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { IonicModule } from '@ionic/angular';\nimport { RouterModule } from '@angular/router';\n\nimport { HomePage } from './home.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild([\n      {\n        path: '',\n        component: HomePage\n      }\n    ])\n  ],\n  declarations: [HomePage]\n})\nexport class HomePageModule {}\n","module.exports = \".welcome-card img {\\n  max-height: 35vh;\\n  overflow: hidden;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9oYXJtYW5kL0Rlc2t0b3AvYmlvYmVsdG1vYmlsZS9zcmMvYXBwL2hvbWUvaG9tZS5wYWdlLnNjc3MiLCJzcmMvYXBwL2hvbWUvaG9tZS5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxnQkFBQTtFQUNBLGdCQUFBO0FDQ0YiLCJmaWxlIjoic3JjL2FwcC9ob21lL2hvbWUucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLndlbGNvbWUtY2FyZCBpbWcge1xuICBtYXgtaGVpZ2h0OiAzNXZoO1xuICBvdmVyZmxvdzogaGlkZGVuO1xufVxuIiwiLndlbGNvbWUtY2FyZCBpbWcge1xuICBtYXgtaGVpZ2h0OiAzNXZoO1xuICBvdmVyZmxvdzogaGlkZGVuO1xufSJdfQ== */\"","import { Component } from '@angular/core';\nimport {Upcv3serviceService} from '../api/upcv3service.service';\nimport{ApiResponse, Code} from '../api/ApiResponse'\nimport { UPCV3 } from '../model/upcv3/upcv3';\nimport {User} from '../model/user';\nimport {Router} from '@angular/router';\nimport { first } from 'rxjs/operators';\nimport { Storage } from '@ionic/storage';\nimport {GlobalService} from '../api/global.service';\nimport { Site } from '../model/site';\n\n@Component({\n  selector: 'app-home',\n  templateUrl: 'home.page.html',\n  styleUrls: ['home.page.scss'],\n})\nexport class HomePage {\n  upcv3: UPCV3[];\n  \n  token:string;\n  value:string;\n  operators:any;\n  op:any;\n\n  constructor(private ucp3service:Upcv3serviceService,\n              private storage:Storage,\n              private router : Router,\n              private global:GlobalService) {\n         \n    \n  }\n  async ngOnInit(){\n    \n    await this.storage.get('token').then(val =>{this.token = val});       \n    await this.ucp3service.getUPC3(this.token).subscribe(\n      res =>{\n        switch(res.code){\n          case Code.UPCV3_RECOVERED:\n          this.upcv3 = res.result;\n          \n          break;\n\n          case Code.UNAUTHORIZED:\n          alert(\"Erreur, vous n'êtes pas autorisé à utiliser l'application mobile !\")\n          break;\n        }\n      }\n    )\n    \n    await this.ucp3service.getOperators(this.token).subscribe(\n      res =>{\n        switch (res.code) {\n          \n          case Code.OPERATOR_RECOVERED:\n          this.operators = res.result;\n          \n          break;\n\n          case Code.UNAUTHORIZED:\n          this.operators = [];\n          break;\n\n        }\n      }\n    )\n  }\n  goToPieges (){\n    this.global.upc3 = this.upcv3[this.value];\n    this.global.op = this.op;\n    \n    \n    this.router.navigate(['instalpieges']);\n  }\n\n  \n\n}\n"],"sourceRoot":""}