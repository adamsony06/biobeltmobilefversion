<ion-header>
  <ion-toolbar color="primary">
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
      <ion-back-button defaultHref="home"></ion-back-button>
    </ion-buttons>
    <ion-title>Alarme</ion-title>
    <ion-buttons slot="end" *ngIf="!global.isBBAM">
      <ion-button fill="clear"> <ion-icon name="globe" color="light" (click)="onSynchroB1B2();"></ion-icon>ADMIN</ion-button> 
     </ion-buttons>
     <ion-buttons slot="end" *ngIf="global.isBBAM">
      <ion-button fill="clear"> <ion-icon name="wifi" color="light"></ion-icon>{{global.ssid}}</ion-button> 
     </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-refresher slot="fixed" id="refresher" (ionRefresh)="doRefresh($event)">
    <ion-refresher-content></ion-refresher-content>
  </ion-refresher>
  <h3 style="text-align: center;">Alarmes </h3>
  <ion-card>
    <ion-card-title style="text-align: center;">Réserve active basse</ion-card-title>
    <ion-card-content>
      <ion-row [ngClass]="{'bgred' : redBackground}"><ion-col size="6">Notification au serveur</ion-col><ion-toggle *ngIf="!redBackground" [(ngModel)]="alresbasse" (click)="changerAlrmResbasse();"></ion-toggle><ion-label *ngIf="redBackground">-</ion-label></ion-row>
      <ion-row [ngClass]="{'bgred' : redBackground}"><ion-col size="6">Seuil de contenu (%)</ion-col><ion-col size="6"><ion-input *ngIf="!redBackground" [(ngModel)]="seuilresbasse" enterkeyhint="enter" (change)="changeSeuilResBasse();"></ion-input><ion-label *ngIf="redBackground">-</ion-label></ion-col></ion-row>
    </ion-card-content>
  </ion-card>
  <ion-card>
    <ion-card-title style="text-align: center;">Réserve active vide</ion-card-title>
    <ion-card-content>
      <ion-row [ngClass]="{'bgred' : redBackground}"><ion-col size="6">Notification au serveur</ion-col><ion-col size="6"><ion-toggle *ngIf="!redBackground" [(ngModel)]="alresvide" (click)="changeAlrmResVide();"></ion-toggle><ion-label *ngIf="redBackground">-</ion-label></ion-col></ion-row>
      <ion-row [ngClass]="{'bgred' : redBackground}"><ion-col size="6">Seuil de flux</ion-col><ion-col size="6"><ion-input *ngIf="!redBackground" [(ngModel)]="seuilfluxvide" enterkeyhint="enter" (change)="changeSeuilFluxVide();" type="tel"></ion-input><ion-label *ngIf="redBackground">-</ion-label></ion-col></ion-row>
      <ion-row [ngClass]="{'bgred' : redBackground}"><ion-col size="6">Périodicité du test de réserve vide (min)</ion-col><ion-col size="6"><ion-input *ngIf="!redBackground" [(ngModel)]="periodtestvide" enterkeyhint="enter" (change)="changePeriodVide()" type="tel"></ion-input><ion-label *ngIf="redBackground">-</ion-label></ion-col></ion-row>
    </ion-card-content>
  </ion-card>
  <ion-card>
    <ion-card-title style="text-align: center;">Pression d'entrée</ion-card-title>
    <ion-card-content>
      <ion-row [ngClass]="{'bgred' : redBackground}"><ion-col size="6">Notification au serveur</ion-col><ion-col size="6"><ion-toggle *ngIf="!redBackground" [(ngModel)]="alpresentre" (click)="changeAlrmPresentree();"></ion-toggle><ion-label *ngIf="redBackground">-</ion-label></ion-col></ion-row>
      <ion-row [ngClass]="{'bgred' : redBackground}"><ion-col size="6">Seuil de contenu (%)</ion-col><ion-col size="6"><ion-input *ngIf="!redBackground" [(ngModel)]="seuilpresentre" enterkeyhint="enter" (change)="changeSeuilPresentree();" type="tel"></ion-input><ion-label *ngIf="redBackground">-</ion-label></ion-col></ion-row>
    </ion-card-content>
  </ion-card>
  <ion-card>
    <ion-card-title style="text-align: center;">Pression de sortie</ion-card-title>
    <ion-card-content>
      <ion-row [ngClass]="{'bgred' : redBackground}"><ion-col size="6">Notification au serveur</ion-col><ion-toggle *ngIf="!redBackground" [(ngModel)]="alpresortie" (click)="changeAlrmResSortie();"></ion-toggle><ion-label *ngIf="redBackground">-</ion-label></ion-row>
      <ion-row [ngClass]="{'bgred' : redBackground}"><ion-col size="6">Seuil de contenu (%)</ion-col><ion-input *ngIf="!redBackground" [(ngModel)]="seuilpresortie" enterkeyhint="enter" (change)="changeSeuilPresSortie();"></ion-input><ion-label *ngIf="redBackground">-</ion-label></ion-row>
    </ion-card-content>
  </ion-card>
  <ion-card>
    <ion-card-title style="text-align : center;">Débit CO2</ion-card-title>
    <ion-card-content>
      <ion-row [ngClass]="{'bgred' : redBackground}"><ion-col size="6">Notification au serveur</ion-col><ion-toggle *ngIf="!redBackground" [(ngModel)]="aldebco2" (click)="changeAlrmDebCo2();"></ion-toggle><ion-label *ngIf="redBackground">-</ion-label></ion-row>
      <ion-row [ngClass]="{'bgred' : redBackground}"><ion-col size="6">Seuil de contenu (%)</ion-col><ion-col size="6"><ion-input *ngIf="!redBackground" [(ngModel)]="seuildebco2" enterkeyhint="enter" (change)="changeSeuilDebCo2();"></ion-input><ion-label *ngIf="redBackground">-</ion-label></ion-col></ion-row>
    </ion-card-content>
  </ion-card>
  <ion-card>
    <ion-card-title style="text-align: center;">Alimentation</ion-card-title>
    <ion-card-content>
      <ion-row [ngClass]="{'bgred' : redBackground}"><ion-col size="6">Rétablie</ion-col><ion-col size="6"><ion-toggle *ngIf="!redBackground" [(ngModel)]="alimret" (click)="changeAlimRet();"></ion-toggle><ion-label *ngIf="redBackground">-</ion-label></ion-col></ion-row>
      <ion-row [ngClass]="{'bgred' : redBackground}"><ion-col size="6">Coupée</ion-col><ion-toggle *ngIf="!redBackground" [(ngModel)]="alimcoup" (click)="changeAlimCoup();"></ion-toggle><ion-label *ngIf="redBackground">-</ion-label></ion-row>
    </ion-card-content>
  </ion-card>
</ion-content>

