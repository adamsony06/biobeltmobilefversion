<ion-header>
  <ion-toolbar color="primary">
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title>Contrôle Mini/Maxi</ion-title>
    <ion-buttons slot="end" *ngIf="!global.isBBAM">
      <ion-button fill="clear"> <ion-icon name="globe" color="light" (click)="onSynchroB1B2();"></ion-icon>ADMIN</ion-button> 
     </ion-buttons>
     <ion-buttons slot="end" *ngIf="global.isBBAM">
      <ion-button fill="clear"> <ion-icon name="wifi" color="light"></ion-icon>{{global.ssid}}</ion-button> 
     </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-refresher slot="fixed" id="refresher" (ionRefresh)="doRefresh($event)">
    <ion-refresher-content></ion-refresher-content>
  </ion-refresher>
  <ion-grid>
    <ion-row style="text-align: center;">
      <ion-col size="12"><ion-button shape="round" size="large" [color]="colordif" (click)="startstop();">{{textdiff}}</ion-button></ion-col>
    </ion-row>

  </ion-grid>
  <ion-card>
    <ion-card-header>
      <ion-card-title style="text-align: center;">Mesures</ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <ion-grid>
        <ion-row>
          <ion-col size="6">
            <ion-label color="dark">{{"Intensité : "+ intensity}}</ion-label>
          </ion-col>
          <ion-col size="6">
            <ion-label color="dark">{{"Température : "+temp.toFixed(2)+" °C"}}</ion-label>
        </ion-col>
        </ion-row>
        <!--<ion-row>
          <ion-col size="6"></ion-col>
          <ion-col size="3"><ion-label color="dark" style="font-weight :bolder"> Réf</ion-label></ion-col>
          <ion-col size="3"><ion-label color="dark" style="font-weight :bolder">Mesure</ion-label></ion-col>
        </ion-row>
        <ion-row>
          <ion-col size="6"><ion-label color="dark">Débit (nl/min):</ion-label></ion-col>
          <ion-col size="3"><ion-label color="dark">{{fluxref.toFixed(3)}}</ion-label></ion-col>
          <ion-col size="3"><ion-label color="dark">{{flux.toFixed(3)}}</ion-label></ion-col>
        </ion-row>
        <ion-row>
          <ion-col size="6"><ion-label color="dark">PE (Bars):</ion-label></ion-col>
          <ion-col size="3"><ion-label color="dark">{{inputref.toFixed(3)}}</ion-label></ion-col>
          <ion-col size="3"><ion-label color="dark">{{input.toFixed(3)}}</ion-label></ion-col>

        </ion-row>
        <ion-row>
          <ion-col size="6"><ion-label color="dark">PS (Bars):</ion-label></ion-col>
          <ion-col size="3"></ion-col>
          <ion-col size="3"><ion-label color="dark">{{output.toFixed(3)}}</ion-label></ion-col>
        </ion-row>
        <ion-row>
          <ion-col size="6"><ion-label color="dark">PS comp (Bars):</ion-label></ion-col>
          <ion-col size="3"><ion-label color="dark">{{outputref.toFixed(3)}}</ion-label></ion-col>
          <ion-col size="3"><ion-label color="dark">{{outputcomp.toFixed(3)}}</ion-label></ion-col>
        </ion-row>-->
      </ion-grid>
    </ion-card-content>
  </ion-card> 
  <ion-card>
    <ion-card-content>
      <ion-grid>
        <ion-row>
          <ion-col size="6"></ion-col>
          <ion-col size="3" [ngClass]="{'highlight' : highlightB1I1}"><ion-label color="dark">B1</ion-label></ion-col>
          <ion-col size="3" [ngClass]="{'highlight' : highlightB2I1}"><ion-label color="dark">B2</ion-label></ion-col>
        </ion-row>
        <ion-row>
          <ion-col size="3"></ion-col>
          <ion-col size="3"><ion-label color="dark">ref</ion-label></ion-col>
          <ion-col size="3" [ngClass]="{'highlight' : highlightB1I1}"><ion-label color="dark">mes</ion-label></ion-col>
          <ion-col size="3" [ngClass]="{'highlight' : highlightB2I1}"><ion-label color="dark">mes</ion-label></ion-col>
        </ion-row>
        <ion-row>
          <ion-col size="3">PE (bar)</ion-col>
          <ion-col size="3"><ion-label color="dark">{{inputref.toFixed(3)}}</ion-label></ion-col>
          <ion-col size="3" [ngClass]="{'highlight' : highlightB1I1}"><ion-label color="dark">{{PEB1Int1.toFixed(3)}}</ion-label></ion-col>
          <ion-col size="3" [ngClass]="{'highlight' : highlightB2I1}"><ion-label color="dark">{{PEB2Int1.toFixed(3)}}</ion-label></ion-col>
        </ion-row>
        <ion-row>
          <ion-col size="3">PSc (bar)</ion-col>
          <ion-col size="3"><ion-label color="dark">{{outputref.toFixed(3)}}</ion-label></ion-col>
          <ion-col size="3" [ngClass]="{'highlight' : highlightB1I1}"><ion-label color="dark">{{PSB1Int1.toFixed(3)}}</ion-label></ion-col>
          <ion-col size="3" [ngClass]="{'highlight' : highlightB2I1}"><ion-label color="dark">{{PSB2Int1.toFixed(3)}}</ion-label></ion-col>
        </ion-row>
        <ion-row>
          <ion-col size="3">Deb (l/mn)</ion-col>
          <ion-col size="3"><ion-label color="dark">{{fluxref.toFixed(3)}}</ion-label></ion-col>
          <ion-col size="3" [ngClass]="{'highlight' : highlightB1I1}"><ion-label color="dark">{{DebB1Int1.toFixed(3)}}</ion-label></ion-col>
          <ion-col size="3" [ngClass]="{'highlight' : highlightB2I1}"><ion-label color="dark">{{DebB2Int1.toFixed(3)}}</ion-label></ion-col>
        </ion-row>
      </ion-grid>
    </ion-card-content>
  </ion-card> 
  <ion-card>
    <ion-card-content>
      <ion-row>
        <ion-col size="6"></ion-col>
        <ion-col size="3" [ngClass]="{'highlight' : highlightB1I10}"><ion-label color="dark">B1</ion-label></ion-col>
        <ion-col size="3" [ngClass]="{'highlight' : highlightB2I10}"><ion-label color="dark">B2</ion-label></ion-col>
      </ion-row>
      <ion-row>
        <ion-col size="3"></ion-col>
        <ion-col size="3"><ion-label color="dark">ref</ion-label></ion-col>
        <ion-col size="3" [ngClass]="{'highlight' : highlightB1I10}"><ion-label color="dark">mes</ion-label></ion-col>
        <ion-col size="3" [ngClass]="{'highlight' : highlightB2I10}"><ion-label color="dark">mes</ion-label></ion-col>
      </ion-row>
      <ion-row>
        <ion-col size="3">PE (bar)</ion-col>
        <ion-col size="3"><ion-label color="dark">{{inputref.toFixed(3)}}</ion-label></ion-col>
        <ion-col size="3" [ngClass]="{'highlight' : highlightB1I10}"><ion-label color="dark">{{PEB1Int10.toFixed(3)}}</ion-label></ion-col>
        <ion-col size="3" [ngClass]="{'highlight' : highlightB2I10}"><ion-label color="dark">{{PEB2Int10.toFixed(3)}}</ion-label></ion-col>
      </ion-row>
      <ion-row>
        <ion-col size="3">PSc (bar)</ion-col>
        <ion-col size="3"><ion-label color="dark">{{outputref10.toFixed(3)}}</ion-label></ion-col>
        <ion-col size="3" [ngClass]="{'highlight' : highlightB1I10}"><ion-label color="dark">{{PSB1Int10.toFixed(3)}}</ion-label></ion-col>
        <ion-col size="3" [ngClass]="{'highlight' : highlightB2I10}"><ion-label color="dark">{{PSB2Int10.toFixed(3)}}</ion-label></ion-col>
      </ion-row>
      <ion-row>
        <ion-col size="3">Deb (l/mn)</ion-col>
        <ion-col size="3"><ion-label color="dark">{{fluxref10.toFixed(3)}}</ion-label></ion-col>
        <ion-col size="3" [ngClass]="{'highlight' : highlightB1I10}"><ion-label color="dark">{{DebB1Int10.toFixed(3)}}</ion-label></ion-col>
        <ion-col size="3" [ngClass]="{'highlight' : highlightB2I10}"><ion-label color="dark">{{DebB2Int10.toFixed(3)}}</ion-label></ion-col>
      </ion-row>
    </ion-card-content>
  </ion-card>
</ion-content>
