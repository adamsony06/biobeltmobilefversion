{"version":3,"sources":["./src/app/instalpieges/instalpieges.page.html","./src/app/instalpieges/instalpieges-routing.module.ts","./src/app/instalpieges/instalpieges.module.ts","./src/app/instalpieges/instalpieges.page.scss","./src/app/instalpieges/instalpieges.page.ts"],"names":[],"mappings":";;;;;;;;;AAAA,shBAAshB,aAAa,gMAAgM,MAAM,qEAAqE,wXAAwX,+EAA+E,+E;;;;;;;;;;;;;;;;;;;ACA5sC;AACc;AAEA;AAEvD,IAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,mEAAgB;KAC5B;CACF,CAAC;AAMF;IAAA;IAA4C,CAAC;IAAhC,6BAA6B;QAJzC,8DAAQ,CAAC;YACR,OAAO,EAAE,CAAC,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;YACxC,OAAO,EAAE,CAAC,4DAAY,CAAC;SACxB,CAAC;OACW,6BAA6B,CAAG;IAAD,oCAAC;CAAA;AAAH;;;;;;;;;;;;;;;;;;;;;;;;AChBD;AACM;AACF;AAEA;AAEiC;AAEvB;AACE;AAWzD;IAAA;IAAqC,CAAC;IAAzB,sBAAsB;QATlC,8DAAQ,CAAC;YACR,OAAO,EAAE;gBACP,4DAAY;gBACZ,0DAAW;gBACX,0DAAW;gBACX,0FAA6B;aAC9B;YACD,YAAY,EAAE,CAAC,mEAAgB,EAAC,sEAAkB,CAAC;SACpD,CAAC;OACW,sBAAsB,CAAG;IAAD,6BAAC;CAAA;AAAH;;;;;;;;;;;;ACpBnC,+DAA+D,uJ;;;;;;;;;;;;;;;;;;;;;;;;;ACAL;AACjB;AACW;AACY;AAEzB;AACG;AACqB;AACX;AACgB;AAQpE;IAQE,0BAAoB,OAAe,EACf,MAAoB,EACpB,YAAgC,EAChC,MAAa,EACb,QAAmB,EAAU,MAAc,EAAS,OAAiB,EAAS,MAAgB;QAJlH,iBAkFG;QAlFiB,YAAO,GAAP,OAAO,CAAQ;QACf,WAAM,GAAN,MAAM,CAAc;QACpB,iBAAY,GAAZ,YAAY,CAAoB;QAChC,WAAM,GAAN,MAAM,CAAO;QACb,aAAQ,GAAR,QAAQ,CAAW;QAAU,WAAM,GAAN,MAAM,CAAQ;QAAS,YAAO,GAAP,OAAO,CAAU;QAAS,WAAM,GAAN,MAAM,CAAU;QALlH,WAAM,GAAG,KAAK,CAAC;QAOD,WAAW;QACvB,IAAG,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,SAAS,CAAC,EAAC;YAC7B,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,MAAM,EAAC,gBAAgB,CAAC,CAAC,IAAI,CAAC,aAAG;gBACzD,KAAI,CAAC,MAAM,GAAG,IAAI,CAAC;gBACnB,KAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC,IAAI,CACxB,qBAAW;oBACT,IAAI,WAAW,IAAI,SAAS,EAAE;wBAC5B,KAAK,CAAC,KAAK,CAAC,CAAC;wBACb,KAAI,CAAC,GAAG,GAAG,IAAI,gEAAS,CAAC,eAAK;4BAC5B,KAAI,CAAC,MAAM,CAAC,GAAG,CAAC;gCACd,mBAAmB;4BACrB,CAAC,CAAC,CAAC;wBACL,CAAC,CAAC,CAAC;wBAEH,KAAI,CAAC,OAAO,CAAC,SAAS,EAAE,CAAC,SAAS,CAAC;4BACjC,KAAK,CAAC,KAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;4BACzB,IAAI,KAAI,CAAC,OAAO,CAAC,IAAI,KAAK,KAAI,CAAC,OAAO,CAAC,UAAU,CAAC,IAAI,EAAE;gCACtD,KAAI,CAAC,GAAG,CAAC,SAAS,EAAE,CAAC;6BAGtB;wBACH,CAAC,CAAC,CAAC;qBACJ;gBACH,CAAC,CACF,CAAC;YACJ,CAAC,CAAC,CAAC,KAAK,CAAC,eAAK;gBACZ,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC;YAC/B,CAAC,CAAC;SACH;aAAM;YAEL,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC,IAAI,CACxB,qBAAW;gBACT,IAAI,WAAW,IAAI,SAAS,EAAE;oBAC5B,KAAK,CAAC,KAAK,CAAC,CAAC;oBACb,KAAI,CAAC,GAAG,GAAG,IAAI,gEAAS,CAAC,eAAK;wBAC5B,KAAI,CAAC,MAAM,CAAC,GAAG,CAAC;4BACd,mBAAmB;wBAErB,CAAC,CAAC,CAAC;oBACL,CAAC,CAAC,CAAC;oBACH,UAAU,CAAC;wBACP,KAAI,CAAC,GAAG,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC;oBAC9B,CAAC,EAAC,IAAI,CAAC;oBACP,UAAU,CAAC;wBAET,KAAI,CAAC,GAAG,CAAC,MAAM,CAAC,4BAA4B,CAAC,KAAK,EAAC,EAAE,CAAC,CAAC,IAAI,CAAC,aAAG;4BAC7D,KAAI,CAAC,IAAI,CAAC,SAAS,GAAG,GAAG,CAAC;4BAC1B,KAAK,CAAC,GAAG,CAAC,CAAC;wBACb,CAAC,CAAC,CAAC,KAAK,CAAC,eAAK;4BACZ,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC;wBAC/B,CAAC,CAAC;oBACJ,CAAC,EAAC,KAAK,CAAC,CAAC;oBACT,UAAU,CAAC;wBACT,KAAI,CAAC,GAAG,CAAC,MAAM,CAAC,4BAA4B,CAAC,KAAK,EAAC,CAAC,CAAC,CAAC,IAAI,CAAC,aAAG;4BAC5D,KAAI,CAAC,OAAO,GAAG,GAAG,CAAC;4BACnB,KAAK,CAAC,GAAG,CAAC,CAAC;wBACb,CAAC,CAAC,CAAC,KAAK,CAAC,eAAK;4BACZ,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC;wBAC/B,CAAC,CAAC;oBACJ,CAAC,EAAC,KAAK,CAAC;oBAIR,KAAI,CAAC,OAAO,CAAC,SAAS,EAAE,CAAC,SAAS,CAAC;wBACjC,IAAI,KAAI,CAAC,OAAO,CAAC,IAAI,KAAK,KAAI,CAAC,OAAO,CAAC,UAAU,CAAC,IAAI,EAAE;4BACtD,KAAI,CAAC,GAAG,CAAC,SAAS,EAAE,CAAC;yBAEtB;oBACH,CAAC,CAAC,CAAC;iBAEJ;YACH,CAAC,CACF,CAAC;SACH;IAGD,CAAC;IAEH,mCAAQ,GAAR;QAAA,iBAQC;QAPC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC;QAG/B,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,iBAAiB,CAAC,UAAU,CAAC;QAC3D,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,aAAG;YAChC,KAAI,CAAC,KAAK,GAAG,GAAG;QAClB,CAAC,CAAC,CAAC;IACL,CAAC;IACK,iCAAM,GAAZ;;;;;;;6BAIK,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,SAAS,CAAC,EAA3B,wBAA2B;wBACxB,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,GAAC,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,cAAc,GAAC,IAAI,CAAC,GAAC,IAAI,CAAC;wBAC1F,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;wBAChC,qBAAM,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,uBAAuB,CAAC,KAAK,EAAC,CAAC,EAAC,IAAI,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,cAAI;gCAC3E,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC;4BAC9B,CAAC,CAAC,CAAC,KAAK,CAAC,aAAG;gCACV,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC;4BAC7B,CAAC,CAAC;;wBAJF,SAIE,CAAC;wBAEH,qBAAM,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,yBAAyB,CAAC,KAAK,EAAC,KAAK,CAAC,CAAC,IAAI,CAAC,cAAI;gCACpE,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC;4BAC9B,CAAC,CAAC,CAAC,KAAK,CAAC,aAAG;gCACV,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC;4BAC7B,CAAC,CAAC;;wBAJF,SAIE,CAAC;wBAAA,CAAC;wBACJ,qBAAM,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,yBAAyB,CAAC,KAAK,EAAC,KAAK,CAAC,CAAC,IAAI,CAAC,cAAI;gCACpE,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC;4BAC9B,CAAC,CAAC,CAAC,KAAK,CAAC,aAAG;gCACV,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC;4BAC7B,CAAC,CAAC;;wBAJF,SAIE,CAAC;wBACH,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC;;;wBAsBpC,KAAK;wBACL,UAAU,CAAC,UAAM,GAAG;;;4CACd,qBAAM,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,OAAO,EAAE;;wCAA/B,SAA+B,CAAC;;;;6BACrC,EAAC,IAAI,CAAC,CAAC;wBACJ,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,GAAC,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,cAAc,GAAC,IAAI,CAAC,GAAC,IAAI,CAAC;wBACxF,UAAU,CAAE,UAAM,IAAI;;;;wCACpB,IAAI,CAAC,GAAG,CAAC,UAAU,EAAE,CAAC;wCACtB,IAAI,CAAC,GAAG,CAAC,qBAAqB,EAAE;wCAChC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;wCACxC,qBAAM,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,uBAAuB,CAAC,KAAK,EAAC,CAAC,EAAC,IAAI,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,cAAI;gDAC3E,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC;4CAC9B,CAAC,CAAC,CAAC,KAAK,CAAC,aAAG;gDACV,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC;4CAC7B,CAAC,CAAC;;wCAJF,SAIE,CAAC;;;;6BACJ,EAAC,KAAK,CAAC,CAAC;wBACT,UAAU,CAAC,UAAM,GAAG;;;4CAClB,qBAAM,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,OAAO,EAAE;;wCAA/B,SAA+B,CAAC;;;;6BACjC,EAAC,IAAI,CAAC,CAAC;wBACR,UAAU,CAAC,UAAM,IAAI;;;4CACnB,qBAAM,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,yBAAyB,CAAC,KAAK,EAAC,KAAK,CAAC,CAAC,IAAI,CAAC,cAAI;4CACpE,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC;wCAC9B,CAAC,CAAC,CAAC,KAAK,CAAC,aAAG;4CACV,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC;wCAC7B,CAAC,CAAC;;wCAJF,SAIE,CAAC;;;;6BACJ,EAAC,KAAK,CAAC,CAAC;wBACT,UAAU,CAAC,UAAM,GAAG;;;4CAClB,qBAAM,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,OAAO,EAAE;;wCAA/B,SAA+B,CAAC;;;;6BAC/B,EAAC,IAAI,CAAC,CAAC;wBACV,UAAU,CAAC,UAAM,IAAI;;;4CACnB,qBAAM,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,yBAAyB,CAAC,KAAK,EAAC,KAAK,CAAC,CAAC,IAAI,CAAC,cAAI;4CACpE,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC;wCAC9B,CAAC,CAAC,CAAC,KAAK,CAAC,aAAG;4CACV,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC;wCAC7B,CAAC,CAAC;;wCAJF,SAIE,CAAC;;;;6BACJ,EAAC,KAAK,CAAC,CAAC;;;;;KAOZ;IACD,qCAAU,GAAV;QACE,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC;IACpC,CAAC;;gBAtL2B,sDAAO;gBACR,iEAAa;gBACP,6EAAmB;gBACzB,sDAAM;gBACF,uDAAQ;gBAAkB,oDAAM;gBAAmB,iEAAO;gBAAkB,iEAAO;;IAZvG,gBAAgB;QAL5B,+DAAS,CAAC;YACT,QAAQ,EAAE,kBAAkB;YAC5B,4JAAuC;;SAExC,CAAC;+EAS4B,sDAAO;YACR,iEAAa;YACP,6EAAmB;YACzB,sDAAM;YACF,uDAAQ,EAAkB,oDAAM,EAAmB,iEAAO,EAAkB,iEAAO;OAZvG,gBAAgB,CAgM5B;IAAD,uBAAC;CAAA;AAhM4B","file":"instalpieges-instalpieges-module-es5.js","sourcesContent":["module.exports = \"<ion-header>\\n  <ion-toolbar color=\\\"primary\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>Installation</ion-title>\\n    <ion-buttons slot=\\\"end\\\" *ngIf=\\\"!global.isBBAM\\\">\\n      <ion-button fill=\\\"clear\\\"> <ion-icon name=\\\"globe\\\" color=\\\"light\\\"></ion-icon>ADMIN</ion-button> \\n     </ion-buttons>\\n     <ion-buttons slot=\\\"end\\\" *ngIf=\\\"global.isBBAM\\\">\\n      <ion-button fill=\\\"clear\\\"> <ion-icon name=\\\"wifi\\\" color=\\\"light\\\"></ion-icon>{{global.ssid}}</ion-button> \\n     </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content [forceOverscroll]=\\\"false\\\">\\n  <ion-row>\\n    <ion-col size=\\\"12\\\">\\n      <h1 style=\\\"text-align: center;\\\"> {{\\\"Vous avez \\\"+nbpiege+\\\" Pièges dans la ceinture \\\"+upc3.upcNameId}} </h1>\\n    </ion-col>\\n    <ion-col size=\\\"12\\\">\\n      <h2>Souhaitez vous modifier le nombre de pièges ?</h2>\\n    </ion-col>\\n    <ion-col>\\n      <ion-item>\\n        <ion-input [(ngModel)]=\\\"nbpiege\\\" placeholder=\\\"Si oui combien ?\\\" type=\\\"tel\\\"></ion-input>\\n      </ion-item>\\n    </ion-col>\\n  </ion-row>\\n  <cad-canvas></cad-canvas>\\n  <ion-button (click)=\\\"onEdit();\\\" size=\\\"block\\\"> Modifier</ion-button>\\n  <ion-button (click)=\\\"onContinue();\\\" size=\\\"block\\\" color=\\\"secondary\\\">Continuer</ion-button>\\n</ion-content>\\n\"","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { InstalpiegesPage } from './instalpieges.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: InstalpiegesPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class InstalpiegesPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { InstalpiegesPageRoutingModule } from './instalpieges-routing.module';\n\nimport { InstalpiegesPage } from './instalpieges.page';\nimport {CADCanvasComponent} from '../canvas/canvas.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    InstalpiegesPageRoutingModule\n  ],\n  declarations: [InstalpiegesPage,CADCanvasComponent]\n})\nexport class InstalpiegesPageModule {}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2luc3RhbHBpZWdlcy9pbnN0YWxwaWVnZXMucGFnZS5zY3NzIn0= */\"","import { Component, OnInit, NgZone } from '@angular/core';\nimport { Storage } from '@ionic/storage';\nimport {GlobalService} from '../api/global.service';\nimport {Upcv3serviceService} from '../api/upcv3service.service';\nimport { UPCV3 } from '../model/upcv3/upcv3';\nimport {Router} from '@angular/router';\nimport { Platform } from '@ionic/angular';\nimport { UPCModbus, UPCState } from '../model/upcv3/upcmodbus';\nimport { Network } from '@ionic-native/network/ngx';\nimport { Hotspot, HotspotNetwork } from '@ionic-native/hotspot/ngx';\nimport { async } from '@angular/core/testing';\n\n@Component({\n  selector: 'app-instalpieges',\n  templateUrl: './instalpieges.page.html',\n  styleUrls: ['./instalpieges.page.scss'],\n})\nexport class InstalpiegesPage implements OnInit {\n  upc3:UPCV3;\n  upc : UPCModbus;\n  nbpiege:number;\n  token:string;\n  UPCModbus : UPCModbus;\n  upcStatus : number;\n  isBBAM = false;\n  constructor(private storage:Storage,\n              private global:GlobalService,\n              private upcv3service:Upcv3serviceService,\n              private router:Router,\n              private platform : Platform, private ngZone: NgZone,private network : Network,private hospot : Hotspot) { \n\n                // Init UPC\n    if(this.platform.is(\"android\")){\n      this.hospot.connectToWifi(\"BBAM\",\"BioBeltService\").then(res=>{\n        this.isBBAM = true;\n        this.platform.ready().then(\n          readySource => {\n            if (readySource == 'cordova') {\n              alert(\"Yes\");\n              this.upc = new UPCModbus(state => {\n                this.ngZone.run(() => {\n                  // Force refresh UI\n                });\n              });\n              \n              this.network.onConnect().subscribe(() => {\n                alert(this.network.type);\n                if (this.network.type === this.network.Connection.WIFI) {\n                  this.upc.reconnect();\n                 \n                  \n                }\n              });\n            }\n          }\n        );\n      }).catch(error=>{\n        alert(JSON.stringify(error));\n      })   \n    } else {\n      \n      this.platform.ready().then(\n        readySource => {\n          if (readySource == 'cordova') {\n            alert(\"Yes\");\n            this.upc = new UPCModbus(state => {\n              this.ngZone.run(() => {\n                // Force refresh UI\n                \n              });\n            });\n            setTimeout(()=>{\n                this.upc.client.connect();\n            },5000)\n            setTimeout(()=>{\n              \n              this.upc.client.getStringFromHoldingRegister(40001,10).then(res=>{\n                this.upc3.upcNameId = res;\n                alert(res);\n              }).catch(error=>{\n                alert(JSON.stringify(error));\n              })\n            },10000);\n            setTimeout(()=>{\n              this.upc.client.getStringFromHoldingRegister(40015,1).then(res=>{\n                this.nbpiege = res;\n                alert(res);\n              }).catch(error=>{\n                alert(JSON.stringify(error));\n              })\n            },10000)\n            \n            \n            \n            this.network.onConnect().subscribe(() => {\n              if (this.network.type === this.network.Connection.WIFI) {\n                this.upc.reconnect();\n                \n              }\n            });\n            \n          }\n        }\n      );\n    }           \n          \n    \n    }\n\n  ngOnInit() {\n    this.upc3 = this.global.upc3;\n    \n\t\n  this.nbpiege = this.global.upc3.generalParameters.upcTrapNum;\n    this.storage.get(\"token\").then(val=>{\n      this.token = val\n    });\n  }\n  async onEdit(){\n    \n    //this.upc.editTrap();\n    \n    if(this.platform.is(\"android\")){\n      var value = Math.round(this.nbpiege*this.upc3.generalParameters.co2FlowRefTrap*10.0)/10.0;\n      alert(JSON.stringify(this.upc));\n      await this.upc.client.setIntInHoldingRegister(40015,1,this.nbpiege).then(data=>{\n        alert(JSON.stringify(data));\n      }).catch(err=>{\n        alert(JSON.stringify(err));\n      });\n      \n      await this.upc.client.setFloatInHoldingRegister(40018,value).then(data=>{\n        alert(JSON.stringify(data));\n      }).catch(err=>{\n        alert(JSON.stringify(err));\n      });;\n      await this.upc.client.setFloatInHoldingRegister(40020,value).then(data=>{\n        alert(JSON.stringify(data));\n      }).catch(err=>{\n        alert(JSON.stringify(err));\n      });\n      this.router.navigate(['bottles']);\n    } /*else {\n      var value = Math.round(this.nbpiege*this.upc3.generalParameters.co2FlowRefTrap*10.0)/10.0;\n      alert(JSON.stringify(this.upc));\n      await this.upc.client.setIntInHoldingRegister(40015,1,this.nbpiege).then(data=>{\n        alert(JSON.stringify(data));\n      }).catch(err=>{\n        alert(JSON.stringify(err));\n      });\n      await this.upc.client.setFloatInHoldingRegister(40018,value).then(data=>{\n        alert(JSON.stringify(data));\n      }).catch(err=>{\n        alert(JSON.stringify(err));\n      });;\n      await this.upc.client.setFloatInHoldingRegister(40020,value).then(data=>{\n        alert(JSON.stringify(data));\n      }).catch(err=>{\n        alert(JSON.stringify(err));\n      });\n      /*this.upcv3service.editTrap(this.upc3.id,this.nbpiege,this.token).subscribe(res=>{\n        this.router.navigate(['bottles']);\n      })*/\n    /*}*/\n    setTimeout(async res=>{\n          await this.upc.client.connect();\n    },5000);\n    var value = Math.round(this.nbpiege*this.upc3.generalParameters.co2FlowRefTrap*10.0)/10.0;\n      setTimeout( async item=>{\n        this.upc.getAllVars();\n        this.upc.readGeneralParameters()\n        alert(JSON.stringify(this.upc.trapNum));\n        await this.upc.client.setIntInHoldingRegister(40015,1,this.nbpiege).then(data=>{\n          alert(JSON.stringify(data));\n        }).catch(err=>{\n          alert(JSON.stringify(err));\n        });\n      },10000);\n      setTimeout(async res=>{\n        await this.upc.client.connect();\n      },5000);\n      setTimeout(async item=>{\n        await this.upc.client.setFloatInHoldingRegister(40018,value).then(data=>{\n          alert(JSON.stringify(data));\n        }).catch(err=>{\n          alert(JSON.stringify(err));\n        });\n      },10000);\n      setTimeout(async res=>{\n        await this.upc.client.connect();\n        },5000);\n      setTimeout(async item =>{\n        await this.upc.client.setFloatInHoldingRegister(40020,value).then(data=>{\n          alert(JSON.stringify(data));\n        }).catch(err=>{\n          alert(JSON.stringify(err));\n        });\n      },10000);\n      \n    \n    \n    /*this.upcv3service.editTrap(this.upc3.id,this.nbpiege,this.token).subscribe(res=>{\n      this.router.navigate(['bottles']);\n    })*/\n  }\n  onContinue(){\n    this.router.navigate(['bottles']);\n  }\n\n}\n"],"sourceRoot":""}